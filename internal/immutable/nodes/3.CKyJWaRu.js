import"../chunks/CWj6FrbW.js";import"../chunks/B44Ua88C.js";import{aj as Nt,ao as Qt,ap as Vt,t as _,ak as D,al as ct,a as p,am as Ht,c as t,an as a,l as Jt,k as n,Y as m,B as E,aq as Kt,ar as Wt,r as s,as as Xt,at as Zt,au as ts}from"../chunks/CzOC0KzF.js";import{o as ss,h as as,s as l}from"../chunks/4Px52Ah5.js";import{i as dt}from"../chunks/CrFqM1sv.js";import{e as es,i as is}from"../chunks/CibRLjUn.js";import{s as v}from"../chunks/SS51CJoV.js";import{e as pt}from"../chunks/D1dF0dAw.js";import{i as ns}from"../chunks/DXZuKXJG.js";import{p as rs}from"../chunks/CdjmU_cv.js";import{s as ls,a as os}from"../chunks/CZHaBI7J.js";import{b as r}from"../chunks/C8xMGzO4.js";import{g as C}from"../chunks/CR0Noclg.js";import{P as ft}from"../chunks/XVZJVHkn.js";import{p as vs}from"../chunks/C2hEm3Ba.js";const cs=!1,Ps=Object.freeze(Object.defineProperty({__proto__:null,prerender:cs},Symbol.toStringTag,{value:"Module"}));var ds=Kt('<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"><\/script> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet"> <link rel="stylesheet">',1),ps=_("<p>Loading...</p>"),fs=_("<p>No recent activity</p>"),ms=_('<div class="activity-item svelte-1nftn7s"><span class="activity-time svelte-1nftn7s"> </span> <span class="activity-description svelte-1nftn7s"> </span></div>'),_s=_('<header><div class="header-container"><div class="top-header"><a class="top-header-link" href="https://berrys.com">berrys.com</a></div> <div class="header"><button class="logout-btn svelte-1nftn7s">Logout</button></div></div></header> <div class="main-container svelte-1nftn7s"><div class="dashboard-header svelte-1nftn7s"><h1 class="svelte-1nftn7s">Admin Dashboard</h1> <div class="date-time svelte-1nftn7s"> </div></div> <div class="stats-grid svelte-1nftn7s"><div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s">ðŸ‘¥</div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Users</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Trailers</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Deliveries</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Cross-Drops</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Locations</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Products</h3> <p class="svelte-1nftn7s"> </p></div></div></div> <div class="admin-actions svelte-1nftn7s"><h2 class="svelte-1nftn7s">Quick Actions</h2> <div class="action-buttons svelte-1nftn7s"><button class="action-btn svelte-1nftn7s">Manage Users</button> <button class="action-btn svelte-1nftn7s">View Reports</button> <button class="action-btn svelte-1nftn7s">System Settings</button> <button class="action-btn svelte-1nftn7s">Export Data</button></div></div> <div class="recent-activity svelte-1nftn7s"><h2 class="svelte-1nftn7s">Recent Activity</h2> <div class="activity-list svelte-1nftn7s"><!></div></div></div> <footer><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;"><span style="font-size: 1rem; font-family: Mulish;">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo"></div></footer>',1);function Is(mt,B){Nt(B,!1);const[_t,gt]=ls(),R=()=>os(vs,"$page",_t),ht=E();let ut=rs(B,"data",8);console.log("user data is   ",ut());let g=E(!1),o=E([]),O=[];async function yt(){try{const e=await fetch(`${ft}/api/logout`,{method:"POST",credentials:"include"});e.ok||console.warn(`Logout failed, Error status: ${e.status}`)}catch(e){console.log("Error logging out",e)}finally{localStorage.removeItem("is_admin"),await C(`${r}/login?authMessage=${encodeURIComponent("You have been logged out.")}`)}}async function bt(){if(m(g,!0),!(localStorage.getItem("is_admin")==="true")){await C(`${r}/login?authMessage=${encodeURIComponent("Access Denied. Please log in as an administrator.")}`);return}try{const i=await fetch(`${ft}/api/admin/summary`,{credentials:"include"});if(!i.ok)throw new Error(`Error status: ${i.status}`);const c=await i.json();console.log("Summary data loaded:",c),m(o,c)}catch(i){console.log("Error fetching summary:",i)}finally{m(g,!1)}}ss(async()=>{bt()}),Qt(()=>R(),()=>{m(ht,R().url.searchParams.get("authMessage")||"")}),Vt(),ns();var q=_s();as(e=>{var i=ds();Wt.title="Admin Panel";var c=a(D(i),14);v(c,"href",`${r??""}/css/styles.css`),p(e,i)});var h=D(q),z=t(h),G=a(t(z),2),xt=t(G);s(G),s(z),s(h);var u=a(h,2),y=t(u),Y=a(t(y),2),wt=t(Y,!0);s(Y),s(y);var b=a(y,2),x=t(b),F=a(t(x),2),N=a(t(F),2),$t=t(N,!0);s(N),s(F),s(x);var w=a(x,2),$=t(w),jt=t($);v(jt,"src",`${r??""}/images/Truck_graphic.png`),s($);var Q=a($,2),V=a(t(Q),2),kt=t(V,!0);s(V),s(Q),s(w);var j=a(w,2),k=t(j),Tt=t(k);v(Tt,"src",`${r??""}/images/Moving_truck.png`),s(k);var H=a(k,2),J=a(t(H),2),St=t(J,!0);s(J),s(H),s(j);var T=a(j,2),S=t(T),At=t(S);v(At,"src",`${r??""}/images/Cross-drop graphic.png`),s(S);var K=a(S,2),W=a(t(K),2),Lt=t(W,!0);s(W),s(K),s(T);var A=a(T,2),L=t(A),Mt=t(L);v(Mt,"src",`${r??""}/images/Gas_station_graphic.png`),s(L);var X=a(L,2),Z=a(t(X),2),Pt=t(Z,!0);s(Z),s(X),s(A);var tt=a(A,2),M=t(tt),It=t(M);v(It,"src",`${r??""}/images/Cross-drop graphic.png`),s(M);var st=a(M,2),at=a(t(st),2),Ut=t(at,!0);s(at),s(st),s(tt),s(b);var P=a(b,2),et=a(t(P),2),Dt=t(et),Et=Zt(()=>C(`${r}/admin/manageUsers`));Xt(6),s(et),s(P);var it=a(P,2),nt=a(t(it),2),Ct=t(nt);{var Bt=e=>{var i=ps();p(e,i)},Rt=(e,i)=>{{var c=d=>{var f=fs();p(d,f)},qt=d=>{var f=ts(),zt=D(f);es(zt,1,()=>O,is,(Gt,ot)=>{var I=ms(),U=t(I),Yt=t(U,!0);s(U);var vt=a(U,2),Ft=t(vt,!0);s(vt),s(I),ct(()=>{l(Yt,n(ot).time),l(Ft,n(ot).description)}),p(Gt,I)}),p(d,f)};dt(e,d=>{O.length===0?d(c):d(qt,!1)},i)}};dt(Ct,e=>{n(g)?e(Bt):e(Rt,!1)})}s(nt),s(it),s(u);var rt=a(u,2),lt=t(rt),Ot=a(t(lt),2);v(Ot,"src",`${r??""}/images/logo.png`),s(lt),s(rt),ct(e=>{l(wt,e),l($t,n(o).total_users),l(kt,n(o).total_trailers),l(St,n(o).total_deliveries),l(Lt,n(o).total_cross_drops),l(Pt,n(o).total_locations),l(Ut,n(o).total_products)},[()=>new Date().toLocaleString()],Jt),pt("click",xt,yt),pt("click",Dt,function(...e){var i;(i=n(Et))==null||i.apply(this,e)}),p(mt,q),Ht(),gt()}export{Is as component,Ps as universal};
