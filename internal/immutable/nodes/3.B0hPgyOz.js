import{t as _,a as p,c as Ft,d as Nt}from"../chunks/B844KiKP.js";import"../chunks/DKOGnCGE.js";import{ae as Qt,as as Vt,at as Yt,ap as D,aq as ot,ag as Ht,c as t,ar as a,b as Jt,f as n,l as m,x as C,au as Kt,r as s,av as Wt,aw as Xt}from"../chunks/BXsRLg6A.js";import{s as l}from"../chunks/-CDTaoNk.js";import{i as ct}from"../chunks/dTEDWTZQ.js";import{e as Zt,i as ts}from"../chunks/FxtfLCaA.js";import{h as ss}from"../chunks/BuC1pS7D.js";import{s as o}from"../chunks/8eJ-M5eg.js";import{e as dt}from"../chunks/JJDN1UTm.js";import{i as as}from"../chunks/DFYwXNvY.js";import{s as es,a as is}from"../chunks/ORKq4Oba.js";import{b as r}from"../chunks/BM4ayS-0.js";import{g as E}from"../chunks/C7UUgyYV.js";import{o as ns}from"../chunks/B7JBmkl3.js";import{P as rs}from"../chunks/XVZJVHkn.js";import{p as ls}from"../chunks/BuTbqVaJ.js";const vs=!1,Is=Object.freeze(Object.defineProperty({__proto__:null,prerender:vs},Symbol.toStringTag,{value:"Module"}));var os=Ft('<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"><\/script> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet"> <link rel="stylesheet">',1),cs=_("<p>Loading...</p>"),ds=_("<p>No recent activity</p>"),ps=_('<div class="activity-item svelte-1nftn7s"><span class="activity-time svelte-1nftn7s"> </span> <span class="activity-description svelte-1nftn7s"> </span></div>'),fs=_('<header><div class="header-container"><div class="top-header"><a class="top-header-link" href="https://berrys.com">berrys.com</a></div> <div class="header"><button class="logout-btn svelte-1nftn7s">Logout</button></div></div></header> <div class="main-container svelte-1nftn7s"><div class="dashboard-header svelte-1nftn7s"><h1 class="svelte-1nftn7s">Admin Dashboard</h1> <div class="date-time svelte-1nftn7s"> </div></div> <div class="stats-grid svelte-1nftn7s"><div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s">ðŸ‘¥</div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Users</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Trailers</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Deliveries</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Cross-Drops</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Locations</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Products</h3> <p class="svelte-1nftn7s"> </p></div></div></div> <div class="admin-actions svelte-1nftn7s"><h2 class="svelte-1nftn7s">Quick Actions</h2> <div class="action-buttons svelte-1nftn7s"><button class="action-btn svelte-1nftn7s">Manage Users</button> <button class="action-btn svelte-1nftn7s">View Reports</button> <button class="action-btn svelte-1nftn7s">System Settings</button> <button class="action-btn svelte-1nftn7s">Export Data</button></div></div> <div class="recent-activity svelte-1nftn7s"><h2 class="svelte-1nftn7s">Recent Activity</h2> <div class="activity-list svelte-1nftn7s"><!></div></div></div> <footer><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;"><span style="font-size: 1rem; font-family: Mulish;">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo"></div></footer>',1);function Ls(pt,ft){Qt(ft,!1);const[mt,_t]=es(),R=()=>is(ls,"$page",mt),gt=C();let g=C(!1),v=C([]),B=[];async function ht(){localStorage.removeItem("jwt_token"),localStorage.removeItem("is_admin"),await E(`${r}/login?authMessage=${encodeURIComponent("You have been logged out.")}`)}async function ut(){if(m(g,!0),!(localStorage.getItem("is_admin")==="true")){await E(`${r}/login?authMessage=${encodeURIComponent("Access Denied. Please log in as an administrator.")}`);return}try{const e=await fetch(`${rs}/api/admin/summary`,{credentials:"include"});if(!e.ok)throw new Error(`Error status: ${e.status}`);const c=await e.json();console.log("Summary data loaded:",c),m(v,c)}catch(e){console.log("Error fetching summary:",e)}finally{m(g,!1)}}ns(async()=>{ut()}),Vt(()=>R(),()=>{m(gt,R().url.searchParams.get("authMessage")||"")}),Yt(),as();var q=fs();ss(i=>{var e=os();Kt.title="Admin Panel";var c=a(D(e),14);o(c,"href",`${r??""}/css/styles.css`),p(i,e)});var h=D(q),z=t(h),G=a(t(z),2),yt=t(G);s(G),s(z),s(h);var u=a(h,2),y=t(u),O=a(t(y),2),bt=t(O,!0);s(O),s(y);var b=a(y,2),x=t(b),F=a(t(x),2),N=a(t(F),2),xt=t(N,!0);s(N),s(F),s(x);var w=a(x,2),$=t(w),wt=t($);o(wt,"src",`${r??""}/images/Truck_graphic.png`),s($);var Q=a($,2),V=a(t(Q),2),$t=t(V,!0);s(V),s(Q),s(w);var j=a(w,2),T=t(j),jt=t(T);o(jt,"src",`${r??""}/images/Moving_truck.png`),s(T);var Y=a(T,2),H=a(t(Y),2),Tt=t(H,!0);s(H),s(Y),s(j);var k=a(j,2),S=t(k),kt=t(S);o(kt,"src",`${r??""}/images/Cross-drop graphic.png`),s(S);var J=a(S,2),K=a(t(J),2),St=t(K,!0);s(K),s(J),s(k);var A=a(k,2),M=t(A),At=t(M);o(At,"src",`${r??""}/images/Gas_station_graphic.png`),s(M);var W=a(M,2),X=a(t(W),2),Mt=t(X,!0);s(X),s(W),s(A);var Z=a(A,2),I=t(Z),It=t(I);o(It,"src",`${r??""}/images/Cross-drop graphic.png`),s(I);var tt=a(I,2),st=a(t(tt),2),Lt=t(st,!0);s(st),s(tt),s(Z),s(b);var L=a(b,2),at=a(t(L),2),Pt=t(at),Ut=Xt(()=>E(`${r}/admin/manageUsers`));Wt(6),s(at),s(L);var et=a(L,2),it=a(t(et),2),Dt=t(it);{var Ct=i=>{var e=cs();p(i,e)},Et=(i,e)=>{{var c=d=>{var f=ds();p(d,f)},Bt=d=>{var f=Nt(),qt=D(f);Zt(qt,1,()=>B,ts,(zt,lt)=>{var P=ps(),U=t(P),Gt=t(U,!0);s(U);var vt=a(U,2),Ot=t(vt,!0);s(vt),s(P),ot(()=>{l(Gt,n(lt).time),l(Ot,n(lt).description)}),p(zt,P)}),p(d,f)};ct(i,d=>{B.length===0?d(c):d(Bt,!1)},e)}};ct(Dt,i=>{n(g)?i(Ct):i(Et,!1)})}s(it),s(et),s(u);var nt=a(u,2),rt=t(nt),Rt=a(t(rt),2);o(Rt,"src",`${r??""}/images/logo.png`),s(rt),s(nt),ot(i=>{l(bt,i),l(xt,n(v).total_users),l($t,n(v).total_trailers),l(Tt,n(v).total_deliveries),l(St,n(v).total_cross_drops),l(Mt,n(v).total_locations),l(Lt,n(v).total_products)},[()=>new Date().toLocaleString()],Jt),dt("click",yt,ht),dt("click",Pt,function(...i){var e;(e=n(Ut))==null||e.apply(this,i)}),p(pt,q),Ht(),_t()}export{Ls as component,Is as universal};
