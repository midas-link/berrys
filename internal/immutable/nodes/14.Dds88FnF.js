import{t as x,a as b,c as os,d as Nt}from"../chunks/BpHREmoh.js";import"../chunks/CvNrszm_.js";import{ad as Bt,v as F,ao as be,ap as I,af as Yt,aJ as is,aq as s,c as l,b as oe,f as t,r as a,j as m,ar as ns,aK as X,au as Be}from"../chunks/uJLZMol7.js";import{s as f}from"../chunks/B-S5xCkP.js";import{i as O}from"../chunks/C5c6pA2s.js";import{e as st,i as at}from"../chunks/D_CKD-qP.js";import{h as ds}from"../chunks/L1Q-CsRO.js";import{s as y,c as cs,b as qe,r as De,a as vs}from"../chunks/4Mh7D6bb.js";import{e as g}from"../chunks/Ber8o166.js";import{b as ke,a as us,c as ps}from"../chunks/D6vwd-E1.js";import{p as jt}from"../chunks/CWmzcjye.js";import{i as Ut}from"../chunks/D79PCN1T.js";import{o as ms}from"../chunks/Z6QwHRtg.js";import{g as fs}from"../chunks/BGbQlVJa.js";import{b as _}from"../chunks/3j13Mb4Q.js";import{g as ws}from"../chunks/D0cbuT7U.js";import{p as gs}from"../chunks/UaJ4IH09.js";import{b as hs}from"../chunks/BcLe5uZD.js";import{l as It,p as re}from"../chunks/XwlKD1z6.js";const _s=!0,ea=Object.freeze(Object.defineProperty({__proto__:null,prerender:_s},Symbol.toStringTag,{value:"Module"}));function Mt(){const R=document.getElementById("current-datetime");if(R){const u=new Date,G={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};R.textContent=u.toLocaleDateString("en-US",G)}}function ys(){document.querySelectorAll(".search-fields input").forEach(u=>{const G=u.id+"_"+Math.random().toString(36).substring(2,9);u.setAttribute("name",G),(u.id==="State"||u.id==="Zip"||u.id==="Date"||u.id==="ST-address"||u.id==="City"||u.id==="Fuel")&&(u.setAttribute("autocomplete","new-password"),u.setAttribute("data-lpignore","true"),u.setAttribute("data-form-type","other"))})}var bs=x('<div class="dropdown-item svelte-1o6jmi1"> </div>'),qs=x('<label> </label> <div class="custom-dropdown svelte-1o6jmi1"><div class="input-wrapper svelte-1o6jmi1"><input> <div class="dropdown-arrow svelte-1o6jmi1"></div></div> <div></div></div>',1);function Vt(R,u){const G=It(u,["children","$$slots","$$events","$$legacy"]),Se=It(G,["prerender","id","label","placeholder","options","value","onChange"]);Bt(u,!1);let Te=re(u,"id",8,""),M=re(u,"label",8,""),D=re(u,"placeholder",8,"Select or type"),V=re(u,"options",24,()=>[]),ee=re(u,"value",12,""),te=re(u,"onChange",8,()=>{});const E=!0;let w=F(!1),i=F(),A=F([...V()]);function Ye(){m(w,!t(w)),t(w)&&m(A,[...V()])}function se(h){ee(h),te()(h),m(w,!1)}function B(){const h=ee().toLowerCase();m(A,V().filter(ae=>ae.toLowerCase().includes(h))),m(w,!0)}function H(h){t(i)&&!t(i).contains(h.target)&&m(w,!1)}function ie(h){h.stopPropagation(),m(A,[...V()]),Ye()}Ut();var xe=qs();g("click",is,H);var $=be(xe),Ue=l($,!0);a($);var J=s($,2),ne=l(J),N=l(ne);De(N);let $e;var Ce=s(N,2);a(ne);var de=s(ne,2);let ce;return st(de,5,()=>t(A),at,(h,ae)=>{var K=bs(),ve=l(K,!0);a(K),I(()=>f(ve,t(ae))),g("click",K,()=>se(t(ae))),b(h,K)}),a(de),a(J),hs(J,h=>m(i,h),()=>t(i)),I(h=>{y($,"for",Te()),f(Ue,M()),$e=cs(N,$e,{id:Te(),type:"text",placeholder:D(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",...Se},"svelte-1o6jmi1"),ce=qe(de,1,"dropdown-content svelte-1o6jmi1",null,ce,h)},[()=>({show:t(w)})],oe),ke(N,ee),g("input",N,B),g("focus",N,()=>{m(A,[...V()]),m(w,!0)}),g("keydown",N,function(h){ps.call(this,u,h)}),g("click",Ce,ie),b(R,xe),us(u,"prerender",E),Yt({prerender:E})}var Ds=os('<meta charset="UTF-8" class="svelte-wd5soq"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-wd5soq"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-wd5soq"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-wd5soq"> <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-wd5soq"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-wd5soq"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-wd5soq"><\/script>',1),ks=x('<tr class="svelte-wd5soq"><td colspan="5" style="text-align: center; padding: 20px;" class="svelte-wd5soq">Loading events...</td></tr>'),Ss=x('<tr class="svelte-wd5soq"><td colspan="5" style="text-align: center; padding: 20px; color: red;" class="svelte-wd5soq"> </td></tr>'),Ts=x('<tr><td colspan="4" class="details-cell svelte-wd5soq"><div class="details-header svelte-wd5soq">Details:</div> <div class="details-content svelte-wd5soq"><div class="detail-row svelte-wd5soq"> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Trailer No.:</span> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Full Address:</span> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Product:</span> <span class="label svelte-wd5soq">Tank:</span> </div></div></td><td class="svelte-wd5soq"><button class="more-details svelte-wd5soq">View Vehicle Timeline</button></td></tr>'),xs=x('<tr><td class="svelte-wd5soq"> </td><td class="svelte-wd5soq"> </td><td class="svelte-wd5soq"> </td><td class="svelte-wd5soq"> </td><td class="svelte-wd5soq"> </td></tr> <!>',1),$s=x('<tr class="svelte-wd5soq"><td colspan="5" style="text-align: center; padding: 20px;" class="svelte-wd5soq">No results found</td></tr>'),Cs=x('<div class="loading-message svelte-wd5soq" style="text-align: center;">Loading events...</div>'),Ls=x('<div class="error-message svelte-wd5soq" style="text-align: center;"> </div>'),Ps=x('<div class="card-details svelte-wd5soq"><hr class="svelte-wd5soq"> <div class="details-header svelte-wd5soq">Details:</div> <div class="details-content svelte-wd5soq"><div class="detail-row svelte-wd5soq"> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Trailer No:</span> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Full Address:</span> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Product:</span> <span class="label svelte-wd5soq">Tank:</span> </div> <button class="more-details mobile-details-btn svelte-wd5soq">View Vehicle Timeline</button></div></div>'),Fs=x('<div><div class="card-header svelte-wd5soq"><div class="card-item svelte-wd5soq"><span class="card-label svelte-wd5soq"> </span></div> <div class="card-item svelte-wd5soq"><span class="card-value svelte-wd5soq" style="margin-left: 2vw;"> </span> <span class="card-value svelte-wd5soq" style="margin-left: 2vw;"> </span> <span class="card-value svelte-wd5soq" style="position: relative;margin-left:auto"> </span></div></div> <!></div>'),As=x('<div class="no-results svelte-wd5soq" style="text-align: center;">No results found</div>'),Es=x(`<header class="svelte-wd5soq"><div class="header-container svelte-wd5soq"><div class="top-header svelte-wd5soq"><a class="top-header-link svelte-wd5soq" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-wd5soq" href=" ">Contact Us</a></div> <div class="header svelte-wd5soq"><div class="header-background svelte-wd5soq"></div> <div class="hamburger-menu svelte-wd5soq" id="hamburger-menu"><span class="svelte-wd5soq"></span> <span class="svelte-wd5soq"></span> <span class="svelte-wd5soq"></span></div> <a class="svelte-wd5soq">Home</a> <a class="svelte-wd5soq">Inventory</a> <a class="svelte-wd5soq">Cross-Drop Prevention</a> <a class="svelte-wd5soq">Site Data</a> <a class="svelte-wd5soq">Analytics</a> <input type="text" placeholder="Search..." class="svelte-wd5soq"> <img alt="Berrys Logo" class="svelte-wd5soq"></div></div></header> <div class="mobile-sidebar svelte-wd5soq" id="mobile-sidebar"><a class="svelte-wd5soq">Home</a> <a class="svelte-wd5soq">Vehicle Logging</a> <a class="svelte-wd5soq">Cross-Drop Prevention</a> <a class="svelte-wd5soq">Site Data</a> <a class="svelte-wd5soq">Inventory</a> <a class="svelte-wd5soq">Analytics</a> <span class="footer-text svelte-wd5soq">Contact Us <br class="svelte-wd5soq"> Berrys Technologies Ltd 141 Lichfield Road, Birmingham , B6 5SP , United Kingdom <br class="svelte-wd5soq"> 0121 558 4411 <br class="svelte-wd5soq"> enquiries@berrys.com</span></div> <div class="overlay svelte-wd5soq" id="overlay"></div> <div class="sub-header-container svelte-wd5soq"><div class="sub-header svelte-wd5soq"><img alt="Truck Graphic" class="subheader-image svelte-wd5soq"> <h1 class="svelte-wd5soq">Vehicle Logging</h1> <span class="svelte-wd5soq">Access key information on each trailer, with real-time access to
          deliveries, focusing on trailer ID. See where trailers are located, what
          they are delivering or a full log on delivery history.</span></div> <div class="breadcrumb svelte-wd5soq"><a class="svelte-wd5soq">Home</a> / <span class="svelte-wd5soq">Vehicle Logging</span></div></div> <main class="vehicle-logging-page svelte-wd5soq"><div class="main-container svelte-wd5soq"><button class="toggle-search-btn svelte-wd5soq"><label for="search-fields" class="search-label svelte-wd5soq">Search <span style="font-size:1rem" class="svelte-wd5soq"> </span></label></button> <div><label for="ST-address" class="svelte-wd5soq">Address</label> <input type="text" id="ST-address" name="ST-address" class="svelte-wd5soq"> <!> <!> <label for="Trailer_No" class="svelte-wd5soq">Trailer No</label> <input type="text" id="Trailer_No" name="Trailer_No" class="svelte-wd5soq"> <label for="Date" class="svelte-wd5soq">Date</label> <input type="date" id="Date" name="Date" placeholder="YYYY-MM-DD" class="svelte-wd5soq"> <label for="Fuel" class="svelte-wd5soq">Fuel</label> <input type="text" id="Fuel" name="Fuel" class="svelte-wd5soq"> <div class="button-container svelte-wd5soq"><button class="search-button svelte-wd5soq">Search</button> <button class="clear-button svelte-wd5soq">Clear</button></div></div> <div class="table-header svelte-wd5soq"><div class="live-status svelte-wd5soq"><div class="toggle-live svelte-wd5soq"><label for="table-type" class="table-type svelte-wd5soq">LIVE <span class="live-indicator svelte-wd5soq"></span></label></div> <label for="table-type" class="table-type svelte-wd5soq"><span id="current-datetime" class="current-time svelte-wd5soq"></span></label></div> <div class="export-dropdown svelte-wd5soq"><button class="export-button svelte-wd5soq">Export As ▼</button> <div class="dropdown-content svelte-wd5soq" id="exportDropdown"><a href=" " class="svelte-wd5soq">CSV</a> <a href=" " class="svelte-wd5soq">PDF</a></div></div></div> <div class="data-container svelte-wd5soq"><table class="desktop-view svelte-wd5soq"><thead class="svelte-wd5soq"><tr class="svelte-wd5soq"><th class="svelte-wd5soq">Date</th><th class="svelte-wd5soq">Time</th><th class="svelte-wd5soq">City</th><th class="svelte-wd5soq">Vehicle ID</th><th class="svelte-wd5soq">Prevented Delivery</th></tr></thead><tbody class="svelte-wd5soq"><!></tbody></table> <div class="mobile-card-view svelte-wd5soq"><!></div></div></div></main> <footer class="svelte-wd5soq"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-wd5soq"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-wd5soq">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-wd5soq"></div></footer>`,1);function ta(R,u){Bt(u,!1);const G=fs(gs).url.pathname;function Se(e){ws(`${_}/vehicle/${e["Trailer No."]}`,{state:{from:G,trailer:e["Trailer No."]}})}const Te="http://localhost:3000";let M=[],D=F([]),V=F([]),ee=F([]),te=F(!0),E=F(null),w=F([]),i=F({address:"",state:"",city:"",trailer:"",date:"",fuel:""}),A=F(!1);async function Ye(){try{m(te,!0),m(E,null),console.log("Fetching prevented delivery events from API...");const e=await fetch(`${Te}/api/Vehicle_Logging`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();console.log("Prevented Delivery Events Data Loaded:",r),M=r,m(D,[...M]),m(ee,[...new Set(M.map(d=>d.State).filter(d=>d&&d.trim()!==""))]),m(V,[...new Set(M.map(d=>d.City).filter(d=>d&&d.trim()!==""))]),m(w,Array(t(D).length).fill(!1)),h(!0)}catch(e){console.error("Error fetching prevented delivery events:",e),m(E,"Failed to load prevented delivery events data. Please try again.")}finally{m(te,!1)}}function se(e){if(!e)return"";const[r,d,k]=e.split("."),n=new Date(k,d-1,r);if(isNaN(n.getTime()))return e;const v=new Date;if((v-n)/(1e3*60)<=30)return"Just now";if(n.getDate()===v.getDate()&&n.getMonth()===v.getMonth()&&n.getFullYear()===v.getFullYear())return"Today";const p=new Date(v);if(p.setDate(v.getDate()-1),n.getDate()===p.getDate()&&n.getMonth()===p.getMonth()&&n.getFullYear()===p.getFullYear())return"Yesterday";const o=new Date(v);if(o.setDate(v.getDate()-2),n.getDate()===o.getDate()&&n.getMonth()===o.getMonth()&&n.getFullYear()===o.getFullYear())return"Two days ago";const S={year:"numeric",month:"long",day:"numeric"};return n.toLocaleDateString("en-US",S)}function B(e){return typeof e!="number"||isNaN(e)?"":new Date(e*1e3).toLocaleDateString("en-GB",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".")}function H(e){return typeof e!="number"||isNaN(e)?"":new Date(e*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}function ie(e){return e%2===0?"row-even":"row-odd"}function xe(){m(A,!t(A))}function $(){m(D,M.filter(e=>{const r=!t(i).address||e.Address&&e.Address.toLowerCase().includes(t(i).address.toLowerCase()),d=!t(i).state||e.State&&e.State.toLowerCase().includes(t(i).state.toLowerCase()),k=!t(i).city||e.City&&e.City.toLowerCase().includes(t(i).city.toLowerCase()),n=!t(i).trailer||e["Trailer No."]&&e["Trailer No."].toLowerCase().includes(t(i).trailer.toLowerCase()),v=e.event_timestamp?new Date(e.event_timestamp*1e3).toISOString().split("T")[0]:"",q=!t(i).date||v&&v.includes(t(i).date),C=!t(i).fuel||e["Prevented Delivery "]&&e["Prevented Delivery "].toLowerCase().includes(t(i).fuel.toLowerCase());return r&&d&&k&&n&&q&&C})),m(w,Array(t(D).length).fill(!1)),h()}function Ue(){console.log("Clearing search parameters."),m(i,{address:"",state:"",city:"",trailer:"",date:"",fuel:""}),m(D,[...M]),m(w,Array(t(D).length).fill(!1)),h(!0)}function J(e){X(w,t(w)[e]=!t(w)[e]),m(w,t(w))}function ne(){document.getElementById("exportDropdown").classList.toggle("show")}function N(){const e=document.querySelectorAll(".search-fields input");return Array.from(e).some(r=>r.value.trim()!=="")}function $e(){let e=[];const r=["Date","Time","City","Vehicle ID","Prevented Delivery","Address","State","Tank No."];e.push(r.join(",")),t(D).forEach(o=>{const S=B(o.event_timestamp),Y=H(o.event_timestamp),c=[`"${S}"`,`"${Y}"`,`"${o.City||""}"`,`"${o["Trailer No."]||""}"`,`"${o["Prevented Delivery "]||""}"`,`"${o.Address||""}"`,`"${o.State||""}"`,`"T${o.tank_number||""}"`];e.push(c.join(","))});const d=e.join(`
`),k=new Blob([d],{type:"text/csv;charset=utf-8;"}),n=new Date,v=n.toISOString().split("T")[0],q=n.toTimeString().split(" ")[0].replace(/:/g,"-"),p=`vehicle_logging_${v}_${q}.csv`;if("showSaveFilePicker"in window){async function o(){try{const Y=await(await window.showSaveFilePicker({suggestedName:p,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await Y.write(k),await Y.close()}catch(S){S.name!=="AbortError"&&Ce(k,p)}}o()}else Ce(k,p)}function Ce(e,r){const d=document.createElement("a");d.href=URL.createObjectURL(e),d.setAttribute("download",r),document.body.appendChild(d),d.click(),document.body.removeChild(d)}async function de(){try{const{jsPDF:e}=window.jspdf;if(!e)throw new Error("jsPDF library not found");const r=new e;r.setFont("helvetica","bold"),r.setFontSize(16),r.text("Vehicle Logging Data",14,15);const d=new Date().toLocaleString();r.setFontSize(10),r.setFont("helvetica","normal"),r.text(`Generated: ${d}`,14,25);const k=["Date","Time","City","Vehicle ID","Prevented Delivery","Address","State","Tank No."],n=t(D).map(o=>[B(o.event_timestamp),H(o.event_timestamp),o.City||"",o["Trailer No."]||"",o["Prevented Delivery "]||"",o.Address||"",o.State||"",`T${o.tank_number||""}`]);r.autoTable({head:[k],body:n,startY:30,styles:{fontSize:8,cellPadding:2,overflow:"linebreak",halign:"center"},headStyles:{fillColor:[1,75,150],textColor:255,fontSize:8,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[234,243,252]},margin:{top:30}});const v=new Date,q=v.toISOString().split("T")[0],C=v.toTimeString().split(" ")[0].replace(/:/g,"-"),p=`vehicle_logging_${q}_${C}.pdf`;if("showSaveFilePicker"in window)try{const S=await(await window.showSaveFilePicker({suggestedName:p,types:[{description:"PDF File",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await S.write(r.output("blob")),await S.close()}catch(o){console.error("File save error:",o),ce(r,p)}else ce(r,p);return!0}catch(e){return console.error("PDF generation failed:",e),!1}}function ce(e,r){e.save(r)}function h(e=!1){const r=document.querySelector(".toggle-live");r&&(!e&&N()?r.style.display="none":r.style.display="block")}function ae(){const e=document.getElementById("hamburger-menu"),r=document.getElementById("mobile-sidebar"),d=document.getElementById("overlay");e&&r&&d&&(e.addEventListener("click",function(){r.classList.toggle("active"),d.style.display=r.classList.contains("active")?"block":"none"}),d.addEventListener("click",function(){r.classList.remove("active"),d.style.display="none"}),r.querySelectorAll("a").forEach(n=>{n.addEventListener("click",function(){r.classList.remove("active"),d.style.display="none"})}))}ms(async()=>{ae(),Mt(),ys(),await Ye();const e=setInterval(Mt,1e3);return()=>{clearInterval(e)}}),Ut();var K=Es();ds(e=>{var r=Ds();ns.title="Vehicle Logging",Be(12),b(e,r)});var ve=be(K),lt=l(ve),rt=s(l(lt),2),ot=l(rt);vs(ot,`background: url(${_??""}/svg/Vector_1.svg) no-repeat left center; mask-image: url(${_??""}/svg/Vector_1.svg'); -webkit-mask-image: url(${_??""}/svg/Vector_1.svg);`);var it=s(ot,4);y(it,"href",`${_??""}/home`);var nt=s(it,2);y(nt,"href",`${_??""}/inventory`);var dt=s(nt,2);y(dt,"href",`${_??""}/cross-drops`);var ct=s(dt,2);y(ct,"href",`${_??""}/site-data`);var vt=s(ct,2);y(vt,"href",`${_??""}/analytics`);var zt=s(vt,4);y(zt,"src",`${_??""}/images/Midas_Link_logo.png`),a(rt),a(lt),a(ve);var ze=s(ve,2),ut=l(ze);y(ut,"href",`${_??""}/home`);var pt=s(ut,2);y(pt,"href",`${_??""}/vehicle-logging`);var mt=s(pt,2);y(mt,"href",`${_??""}/cross-drops`);var ft=s(mt,2);y(ft,"href",`${_??""}/site-data`);var wt=s(ft,2);y(wt,"href",`${_??""}/inventory`);var Ot=s(wt,2);y(Ot,"href",`${_??""}/analytics`),Be(2),a(ze);var Oe=s(ze,4),Re=l(Oe),Rt=l(Re);y(Rt,"src",`${_??""}/images/Truck_graphic.png`),Be(4),a(Re);var gt=s(Re,2),Gt=l(gt);y(Gt,"href",`${_??""}/home`),Be(2),a(gt),a(Oe);var Ge=s(Oe,2),ht=l(Ge),Le=l(ht),_t=l(Le),yt=s(l(_t)),Ht=l(yt,!0);a(yt),a(_t),a(Le);var Pe=s(Le,2);let bt;var Fe=s(l(Pe),2);De(Fe);var qt=s(Fe,2);Vt(qt,{id:"State",label:"State",get options(){return t(ee)},get value(){return t(i).state},set value(e){X(i,t(i).state=e)},$$events:{keydown:e=>{e.key==="Enter"&&$()}},$$legacy:!0});var Dt=s(qt,2);Vt(Dt,{id:"City",label:"City",get options(){return t(V)},get value(){return t(i).city},set value(e){X(i,t(i).city=e)},$$events:{keydown:e=>{e.key==="Enter"&&$()}},$$legacy:!0});var Ae=s(Dt,4);De(Ae);var Ee=s(Ae,4);De(Ee);var Ne=s(Ee,4);De(Ne);var kt=s(Ne,2),St=l(kt),Jt=s(St,2);a(kt),a(Pe);var He=s(Pe,2),Tt=s(l(He),2),xt=l(Tt),$t=s(xt,2),Ct=l($t),Kt=s(Ct,2);a($t),a(Tt),a(He);var Lt=s(He,2),Je=l(Lt),Pt=s(l(Je)),Wt=l(Pt);{var Zt=e=>{var r=ks();b(e,r)},Qt=(e,r)=>{{var d=n=>{var v=Ss(),q=l(v),C=l(q,!0);a(q),a(v),I(()=>f(C,t(E))),b(n,v)},k=(n,v)=>{{var q=p=>{var o=Nt(),S=be(o);st(S,1,()=>t(D),at,(Y,c,L)=>{var U=xs(),j=be(U),W=l(j),je=l(W,!0);a(W);var ue=s(W),Ie=l(ue,!0);a(ue);var Z=s(ue),Ke=l(Z,!0);a(Z);var Q=s(Z),We=l(Q,!0);a(Q);var pe=s(Q),Ze=l(pe,!0);a(pe),a(j);var Qe=s(j,2);{var Xe=P=>{var T=Ts(),z=l(T),le=s(l(z),2),me=l(le),fe=l(me);a(me);var we=s(me,2),ge=s(l(we));a(we);var he=s(we,2),_e=s(l(he));a(he);var ye=s(he,2),Me=s(l(ye)),et=s(Me,2);a(ye),a(le),a(z);var Ve=s(z),tt=l(Ve);a(Ve),a(T),I((as,ls,rs)=>{qe(T,1,`details-row ${as??""}`,"svelte-wd5soq"),f(fe,`${ls??""} | ${rs??""}`),f(ge,` ${t(c)["Trailer No."]??""}`),f(_e,` ${(t(c).Address||"")??""}, ${t(c).City??""} ${t(c).State??""}`),f(Me,` ${(t(c)["Prevented Delivery "]||t(c).Delivered||"")??""} | `),f(et,` T${(t(c).tank_number||"")??""}`)},[()=>ie(L),()=>se(B(t(c).event_timestamp)),()=>H(t(c).event_timestamp)],oe),g("click",tt,()=>Se(t(c))),g("click",T,()=>J(L)),b(P,T)};O(Qe,P=>{t(w)[L]&&P(Xe)})}I((P,T,z)=>{qe(j,1,`main-row ${P??""} ${t(w)[L]?"hover-row":""}`,"svelte-wd5soq"),f(je,T),f(Ie,z),f(Ke,t(c).City),f(We,t(c)["Trailer No."]),f(Ze,t(c)["Prevented Delivery "]||t(c).Delivered)},[()=>ie(L),()=>se(B(t(c).event_timestamp)),()=>H(t(c).event_timestamp)],oe),g("click",j,()=>J(L)),b(Y,U)}),b(p,o)},C=p=>{var o=$s();b(p,o)};O(n,p=>{t(D).length>0?p(q):p(C,!1)},v)}};O(e,n=>{t(E)?n(d):n(k,!1)},r)}};O(Wt,e=>{t(te)?e(Zt):e(Qt,!1)})}a(Pt),a(Je);var Ft=s(Je,2),Xt=l(Ft);{var es=e=>{var r=Cs();b(e,r)},ts=(e,r)=>{{var d=n=>{var v=Ls(),q=l(v,!0);a(v),I(()=>f(q,t(E))),b(n,v)},k=(n,v)=>{{var q=p=>{var o=Nt(),S=be(o);st(S,1,()=>t(D),at,(Y,c,L)=>{var U=Fs(),j=l(U),W=l(j),je=l(W),ue=l(je,!0);a(je),a(W);var Ie=s(W,2),Z=l(Ie),Ke=l(Z);a(Z);var Q=s(Z,2),We=l(Q);a(Q);var pe=s(Q,2),Ze=l(pe,!0);a(pe),a(Ie),a(j);var Qe=s(j,2);{var Xe=P=>{var T=Ps(),z=s(l(T),4),le=l(z),me=l(le);a(le);var fe=s(le,2),we=s(l(fe));a(fe);var ge=s(fe,2),he=s(l(ge));a(ge);var _e=s(ge,2),ye=s(l(_e)),Me=s(ye,2);a(_e);var et=s(_e,2);a(z),a(T),I((Ve,tt)=>{f(me,`${Ve??""} | ${tt??""}`),f(we,` ${t(c)["Trailer No."]??""}`),f(he,` ${(t(c).Address||"")??""}, ${(t(c).City||"")??""} ${(t(c).State||"")??""}`),f(ye,` ${(t(c)["Prevented Delivery "]||t(c).Delivered||"")??""} `),f(Me,` T${(t(c).tank_number||"")??""}`)},[()=>se(B(t(c).event_timestamp)),()=>H(t(c).event_timestamp)],oe),g("click",et,()=>Se(t(c))),b(P,T)};O(Qe,P=>{t(w)[L]&&P(Xe)})}a(U),I((P,T)=>{qe(U,1,`card ${P??""}`,"svelte-wd5soq"),f(ue,T),f(Ke,`Product: ${(t(c)["Prevented Delivery "]||t(c).Delivered)??""}`),f(We,`Vehicle: ${t(c)["Trailer No."]??""}`),f(Ze,t(w)[L]?"▲":"▼")},[()=>ie(L),()=>se(B(t(c).event_timestamp))],oe),g("click",U,()=>J(L)),b(Y,U)}),b(p,o)},C=p=>{var o=As();b(p,o)};O(n,p=>{t(D).length>0?p(q):p(C,!1)},v)}};O(e,n=>{t(E)?n(d):n(k,!1)},r)}};O(Xt,e=>{t(te)?e(es):e(ts,!1)})}a(Ft),a(Lt),a(ht),a(Ge);var At=s(Ge,2),Et=l(At),ss=s(l(Et),2);y(ss,"src",`${_??""}/images/logo.png`),a(Et),a(At),I(e=>{f(Ht,t(A)?"▲":"▼"),bt=qe(Pe,1,"search-fields svelte-wd5soq",null,bt,e)},[()=>({visible:t(A)})],oe),g("click",Le,xe),ke(Fe,()=>t(i).address,e=>X(i,t(i).address=e)),g("keydown",Fe,e=>{e.key==="Enter"&&$()}),ke(Ae,()=>t(i).trailer,e=>X(i,t(i).trailer=e)),g("keydown",Ae,e=>{e.key==="Enter"&&$()}),ke(Ee,()=>t(i).date,e=>X(i,t(i).date=e)),g("keydown",Ee,e=>{e.key==="Enter"&&$()}),ke(Ne,()=>t(i).fuel,e=>X(i,t(i).fuel=e)),g("keydown",Ne,e=>{e.key==="Enter"&&$()}),g("click",St,$),g("click",Jt,Ue),g("click",xt,ne),g("click",Ct,jt($e)),g("click",Kt,jt(de)),b(R,K),Yt()}export{ta as component,ea as universal};
