import{t as $,a as D,c as fa,d as Yt}from"../chunks/Ddf-pde4.js";import"../chunks/CUbRwKUw.js";import{ae as Zt,x as _,ap as ue,aq as Y,ag as Gt,aJ as za,c as n,ar as a,b as pe,f as t,r as l,l as d,as as ma,aK as J,av as qe}from"../chunks/COAlzTlh.js";import{s as z}from"../chunks/DMAFUHRH.js";import{i as K}from"../chunks/D_Rr-0e8.js";import{e as nt,i as it}from"../chunks/HfpreXtq.js";import{h as ga}from"../chunks/iCJorLeU.js";import{s as y,c as ha,b as fe,r as we,a as ba}from"../chunks/C24kGzoz.js";import{e as h}from"../chunks/C8-GFTye.js";import{b as ke}from"../chunks/CZ0ZreRe.js";import{b as Ot,a as ya}from"../chunks/CH-qU2yJ.js";import{b as Ce}from"../chunks/BYqunLH5.js";import{i as Rt}from"../chunks/1VC0eZX2.js";import{o as _a}from"../chunks/PcSmvWFM.js";import{g as Sa}from"../chunks/FyuCb5qo.js";import{l as Vt,p as ve}from"../chunks/DfO8xPXH.js";import{b}from"../chunks/GswKTICK.js";import{g as Da}from"../chunks/CmegmGLq.js";import{p as wa}from"../chunks/WGs1_-KS.js";import{P as ka}from"../chunks/XVZJVHkn.js";const Ca=!0,os=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ca},Symbol.toStringTag,{value:"Module"}));var xa=$('<div class="dropdown-item svelte-1o6jmi1"> </div>'),$a=$('<label> </label> <div class="custom-dropdown svelte-1o6jmi1"><div class="input-wrapper svelte-1o6jmi1"><input> <div class="dropdown-arrow svelte-1o6jmi1"></div></div> <div></div></div>',1);function Ye(xe,v){const ze=Vt(v,["children","$$slots","$$events","$$legacy"]),$e=Vt(ze,["prerender","id","label","placeholder","options","value","onChange"]);Zt(v,!1);let L=ve(v,"id",8,""),i=ve(v,"label",8,""),P=ve(v,"placeholder",8,"Select or type"),S=ve(v,"options",24,()=>[]),V=ve(v,"value",12,""),Z=ve(v,"onChange",8,()=>{});const me=!0;let F=_(!1),W=_(),G=_([...S()]);function Le(){d(F,!t(F)),t(F)&&d(G,[...S()])}function Ee(m){V(m),Z()(m),d(F,!1)}function Te(){const m=V().toLowerCase();d(G,S().filter(ne=>ne.toLowerCase().includes(m))),d(F,!0)}function Ae(m){t(W)&&!t(W).contains(m.target)&&d(F,!1)}function Q(m){m.stopPropagation(),d(G,[...S()]),Le()}Rt();var Fe=$a();h("click",za,Ae);var M=ue(Fe),X=n(M,!0);l(M);var ge=a(M,2),ee=n(ge),I=n(ee);we(I);let E;var Ve=a(I,2);l(ee);var N=a(ee,2);let le;return nt(N,5,()=>t(G),it,(m,ne)=>{var O=xa(),Ze=n(O,!0);l(O),Y(()=>z(Ze,t(ne))),h("click",O,()=>Ee(t(ne))),D(m,O)}),l(N),l(ge),Ce(ge,m=>d(W,m),()=>t(W)),Y(m=>{y(M,"for",L()),z(X,i()),E=ha(I,E,{id:L(),type:"text",placeholder:P(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",...$e},"svelte-1o6jmi1"),le=fe(N,1,"dropdown-content svelte-1o6jmi1",null,le,m)},[()=>({show:t(F)})],pe),ke(I,V),h("input",I,Te),h("focus",I,()=>{d(G,[...S()]),d(F,!0)}),h("keydown",I,function(m){ya.call(this,v,m)}),h("click",Ve,Q),D(xe,Fe),Ot(v,"prerender",me),Gt({prerender:me})}function La(){document.querySelectorAll(".search-fields input").forEach(v=>{v.setAttribute("autocomplete","off"),v.setAttribute("autocorrect","off"),v.setAttribute("autocapitalize","off"),v.setAttribute("spellcheck","false");const ze=v.id+"_"+Math.random().toString(36).substring(2,9);v.setAttribute("name",ze),(v.id==="State"||v.id==="Zip"||v.id==="Business-unit"||v.id==="ST-address"||v.id==="City")&&(v.setAttribute("autocomplete","new-password"),v.setAttribute("data-lpignore","true"),v.setAttribute("data-form-type","other"))})}var Ea=fa('<meta charset="UTF-8" class="svelte-15zt1nz"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-15zt1nz"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-15zt1nz"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-15zt1nz"> <link rel="stylesheet" class="svelte-15zt1nz"> <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-15zt1nz"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-15zt1nz"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-15zt1nz"><\/script>',1),Ta=$('<tr class="svelte-15zt1nz"><td colspan="5" style="text-align: center; padding: 20px;" class="svelte-15zt1nz">Loading events...</td></tr>'),Aa=$('<tr class="svelte-15zt1nz"><td colspan="5" style="text-align: center; padding: 20px; color: red;" class="svelte-15zt1nz"> </td></tr>'),Fa=$('<tr><td colspan="4" class="details-cell svelte-15zt1nz"><div class="details-header svelte-15zt1nz">Details:</div> <div class="details-content svelte-15zt1nz"> <br class="svelte-15zt1nz"> <span class="label svelte-15zt1nz">Site code:</span> <span class="label svelte-15zt1nz">Business Unit:</span> <br class="svelte-15zt1nz"> <span class="label svelte-15zt1nz">Full Address:</span> <br class="svelte-15zt1nz"> <span class="label svelte-15zt1nz">Fuel dropped:</span> <span class="label svelte-15zt1nz">Tank:</span> </div></td><td class="svelte-15zt1nz"><button class="more-details svelte-15zt1nz">See Delivery Details</button></td></tr>'),ja=$('<tr><td class="svelte-15zt1nz"> </td><td class="svelte-15zt1nz"> </td><td class="svelte-15zt1nz"> </td><td class="svelte-15zt1nz"> </td></tr> <!>',1),Ba=$('<tr class="svelte-15zt1nz"><td colspan="4" style="text-align: center; padding: 20px;" class="svelte-15zt1nz">No results found</td></tr>'),Ua=$('<div class="loading-message svelte-15zt1nz" style="text-align: center;">Loading events...</div>'),Pa=$('<div class="error-message svelte-15zt1nz" style="text-align: center;"> </div>'),Ma=$('<div class="card-details svelte-15zt1nz"><hr class="svelte-15zt1nz"> <div class="details-header svelte-15zt1nz">Details:</div> <div class="details-content svelte-15zt1nz"><div class="detail-row svelte-15zt1nz"> </div> <div class="detail-row svelte-15zt1nz"><span class="label svelte-15zt1nz">Site Code:</span> <span class="label svelte-15zt1nz">Business Unit:</span> </div> <div class="detail-row svelte-15zt1nz"><span class="label svelte-15zt1nz">Full Address:</span> </div> <div class="detail-row svelte-15zt1nz"><span class="label svelte-15zt1nz">Fuel Dropped:</span> <span class="label svelte-15zt1nz">Tank:</span> </div> <button class="more-details mobile-details-btn svelte-15zt1nz">See Delivery Details</button></div></div>'),Ia=$('<div><div class="card-header svelte-15zt1nz"><div class="card-item svelte-15zt1nz"><span class="card-label svelte-15zt1nz"> </span></div> <div class="card-item svelte-15zt1nz"><span class="card-value svelte-15zt1nz" style="margin-left: 2vw;"> </span> <span class="card-value svelte-15zt1nz" style="margin-left: 2vw;"> </span> <span class="card-value svelte-15zt1nz" style="position: relative;margin-left:auto"> </span></div></div> <!></div>'),Na=$('<div class="no-results svelte-15zt1nz">No results found</div>'),qa=$(`<header class="svelte-15zt1nz"><div class="header-container svelte-15zt1nz"><div class="top-header svelte-15zt1nz"><a class="top-header-link svelte-15zt1nz" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-15zt1nz" href=" ">Contact Us</a></div> <div class="header svelte-15zt1nz"><div class="header-background svelte-15zt1nz"></div> <div class="hamburger-menu svelte-15zt1nz" id="hamburger-menu"><span class="svelte-15zt1nz"></span> <span class="svelte-15zt1nz"></span> <span class="svelte-15zt1nz"></span></div> <a class="svelte-15zt1nz">Home</a> <a class="svelte-15zt1nz">Inventory</a> <a class="svelte-15zt1nz">Cross-Drop Prevention</a> <a class="svelte-15zt1nz">Vehicle Logging</a> <a class="svelte-15zt1nz">Analytics</a> <input type="text" placeholder="Search..." class="svelte-15zt1nz"> <img alt="Berrys Logo" class="svelte-15zt1nz"></div></div></header> <div class="mobile-sidebar svelte-15zt1nz" id="mobile-sidebar"><a class="svelte-15zt1nz">Home</a> <a class="svelte-15zt1nz">Vehicle Logging</a> <a class="svelte-15zt1nz">Cross-Drop Prevention</a> <a class="svelte-15zt1nz">Site Data</a> <a class="svelte-15zt1nz">Inventory</a> <a class="svelte-15zt1nz">Analytics</a> <span class="footer-text svelte-15zt1nz">Contact Us <br class="svelte-15zt1nz"> Berrys Technologies Ltd 141 Lichfield Road, Birmingham , B6 5SP , United Kingdom <br class="svelte-15zt1nz"> 0121 558 4411 <br class="svelte-15zt1nz"> enquiries@berrys.com</span></div> <div class="overlay svelte-15zt1nz" id="overlay"></div> <div class="sub-header-container svelte-15zt1nz"><div class="sub-header svelte-15zt1nz"><img alt="Gas_station Graphic" class="subheader-image svelte-15zt1nz"> <h1 class="svelte-15zt1nz">Site Data</h1> <span class="svelte-15zt1nz">Gather insight into your deliveries by site location. You can dive into
      delivery information by State, Zip code, Street Address and City. This
      will offer you vital information on drop frequency, scheduling and billing
      reports.</span></div> <div class="breadcrumb svelte-15zt1nz"><a class="svelte-15zt1nz">Home</a> / <span class="svelte-15zt1nz">Site Data</span></div></div> <main class="site-data-page svelte-15zt1nz"><div class="main-container svelte-15zt1nz"><button class="toggle-search-btn svelte-15zt1nz"><label for="search-fields" class="search-label svelte-15zt1nz">Search <span style="font-size:1rem" class="svelte-15zt1nz"> </span></label></button> <div><!> <label for="ST-address" class="svelte-15zt1nz">Address</label> <input type="text" id="ST-address" name="ST-address" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="svelte-15zt1nz"> <!> <!> <!> <label for="Zip" class="svelte-15zt1nz">Zip</label> <input type="text" id="Zip" name="Zip" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="svelte-15zt1nz"> <label for="Date" class="svelte-15zt1nz">Date</label> <input type="date" id="Date" name="Date" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="DD/MM/YYYY" class="svelte-15zt1nz"> <label for="Fuel" class="svelte-15zt1nz">Fuel</label> <input type="text" id="Fuel" name="Fuel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="svelte-15zt1nz"></div> <div><button class="search-button svelte-15zt1nz">Search</button> <button class="clear-button svelte-15zt1nz">Clear</button></div> <div class="table-header svelte-15zt1nz"><div class="live-status svelte-15zt1nz"><div class="toggle-live svelte-15zt1nz"><label for="table-type" class="table-type svelte-15zt1nz">LIVE <span class="live-indicator svelte-15zt1nz"></span></label></div> <label for="table-type" class="table-type svelte-15zt1nz"><span id="current-datetime" class="current-time svelte-15zt1nz"></span></label></div> <div class="export-dropdown svelte-15zt1nz"><button class="export-button svelte-15zt1nz">Export As ▼</button> <div class="dropdown-content svelte-15zt1nz" id="exportDropdown"><a href=" " class="svelte-15zt1nz">CSV</a> <a href=" " class="svelte-15zt1nz">PDF</a></div></div></div> <div class="data-container svelte-15zt1nz"><table class="desktop-view svelte-15zt1nz"><thead class="svelte-15zt1nz"><tr class="svelte-15zt1nz"><th class="svelte-15zt1nz">Date</th><th class="svelte-15zt1nz">Delivered at</th><th class="svelte-15zt1nz">Site Code</th><th class="svelte-15zt1nz">Fuel Dropped</th></tr></thead><tbody class="svelte-15zt1nz"><!></tbody></table> <div class="mobile-card-view svelte-15zt1nz"><!></div></div></div></main> <footer class="svelte-15zt1nz"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-15zt1nz"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-15zt1nz">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-15zt1nz"></div></footer>`,1);function cs(xe,v){Zt(v,!1);const ze=Sa(wa).url.pathname;function $e(e){Da(`${b}/deliveryDetail/${e.SiteCode}`,{state:{from:ze,address:e.Address,city:e.City,state:e.State,date:e.Date,siteCode:e.SiteCode}})}let L=_([]),i=_({businessUnit:"",address:"",state:"",city:"",site:"",zip:"",date:"",fuel:""}),P=[],S=_([]),V=_(!0),Z=_(null),me=_([]),F=_([]),W=_([]),G=_([]),Le=_(),Ee=_(),Te=_(),Ae=_(),Q=_(!1);function Fe(e){if(!e)return"";const r=new Date(e).toLocaleDateString("en-GB",{month:"2-digit",day:"2-digit",year:"numeric"});return console.log(r),r}function M(e){return typeof e!="number"||isNaN(e)?"":new Date(e*1e3).toLocaleDateString("en-GB",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".")}function X(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}async function ge(){try{d(V,!0),d(Z,null),console.log("Fetching prevented delivery events from API...");const e=await fetch(`${ka}/api/Site_Data`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const s=await e.json();console.log("Prevented Delivery Events Data Loaded:",s),P=s,d(S,[...P]),d(W,[...new Set(P.map(r=>r.State).filter(r=>r&&r.trim()!==""))]),d(me,[...new Set(P.map(r=>r.City).filter(r=>r&&r.trim()!==""))]),d(F,[...new Set(P.map(r=>r.BusinessUnitName).filter(r=>r&&r.trim()!==""))]),d(G,[...new Set(P.map(r=>r.SiteCode).filter(r=>r&&r.trim()!==""))]),d(L,Array(t(S).length).fill(!1)),O(!0)}catch(e){console.error("Error fetching prevented delivery events:",e),d(Z,"Failed to load prevented delivery events data. Please try again.")}finally{d(V,!1)}}function ee(e){return e%2===0?"row-even":"row-odd"}function I(){d(Q,!t(Q))}function E(){d(S,P.filter(e=>{const s=!t(i).businessUnit||e.BusinessUnitName&&e.BusinessUnitName.toLowerCase().includes(t(i).businessUnit.toLowerCase()),r=!t(i).address||e.Address&&e.Address.toLowerCase().includes(t(i).address.toLowerCase()),w=!t(i).state||e.State&&e.State.toLowerCase().includes(t(i).state.toLowerCase()),o=!t(i).city||e.City&&e.City.toLowerCase().includes(t(i).city.toLowerCase()),u=!t(i).site||e.SiteCode&&e.SiteCode.toLowerCase().includes(t(i).site.toLowerCase()),k=!t(i).zip||e.Zip&&e.Zip.toString().includes(t(i).zip),T=!t(i).date||e.Date&&e.Date.includes(Fe(t(i).date)),p=!t(i).fuel||e.Delivered&&e.Delivered.toLowerCase().includes(t(i).fuel.toLowerCase());return s&&r&&w&&o&&u&&k&&T&&p})),d(L,Array(t(S).length).fill(!1)),O()}function Ve(){d(i,{businessUnit:"",address:"",state:"",city:"",site:"",zip:"",date:"",fuel:""}),d(S,[...P]),d(L,Array(t(S).length).fill(!1)),O(!0)}function N(e){if(!e)return"";const[s,r,w]=e.split("."),o=new Date(w,r-1,s);if(isNaN(o.getTime()))return e;const u=new Date;if((u-o)/(1e3*60)<=30)return"Just now";if(o.getDate()===u.getDate()&&o.getMonth()===u.getMonth()&&o.getFullYear()===u.getFullYear())return"Today";const p=new Date(u);if(p.setDate(u.getDate()-1),o.getDate()===p.getDate()&&o.getMonth()===p.getMonth()&&o.getFullYear()===p.getFullYear())return"Yesterday";const g=new Date(u);if(g.setDate(u.getDate()-2),o.getDate()===g.getDate()&&o.getMonth()===g.getMonth()&&o.getFullYear()===g.getFullYear())return"Two days ago";const A={year:"numeric",month:"long",day:"numeric"};return o.toLocaleDateString("en-US",A)}function le(e){let s=[...t(L)];s[e]=!s[e],d(L,s)}function m(){const e=document.getElementById("current-datetime");if(e){const s=new Date,r={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};e.textContent=s.toLocaleDateString("en-US",r)}}function ne(){return t(i).businessUnit.trim()!==""||t(i).address.trim()!==""||t(i).state.trim()!==""||t(i).city.trim()!==""||t(i).site.trim()!==""||t(i).zip.trim()!==""||t(i).date.trim()!==""||t(i).fuel.trim()!==""}function O(e=!1){const s=document.querySelector(".toggle-live");s&&(!e&&ne()?s.style.display="none":s.style.display="block")}function Ze(){const e=document.getElementById("hamburger-menu"),s=document.getElementById("mobile-sidebar"),r=document.getElementById("overlay");e.addEventListener("click",function(){s.classList.toggle("active"),r.style.display=s.classList.contains("active")?"block":"none"}),r.addEventListener("click",function(){s.classList.remove("active"),r.style.display="none"}),s.querySelectorAll("a").forEach(o=>{o.addEventListener("click",function(){s.classList.remove("active"),r.style.display="none"})})}_a(async()=>{Ze(),m(),La(),await ge();const e=setInterval(m,1e3);return()=>{clearInterval(e)}});function Ht(){document.getElementById("exportDropdown").classList.toggle("show")}function Jt(){const s=document.querySelector("table").cloneNode(!0);s.querySelectorAll(".more-details").forEach(f=>{f.parentNode.textContent=""});const w=s.querySelectorAll("tr");let o=[];const u=[];w[0].querySelectorAll("th").forEach(f=>{u.push(f.textContent.trim())}),o.push(u.join(","));for(let f=1;f<w.length;f++){const x=[];w[f].querySelectorAll("td").forEach(te=>{let ie=te.textContent.trim().replace(/"/g,'""');x.push(`"${ie}"`)}),x.length>0&&o.push(x.join(","))}const T=o.join(`
`),p=new Blob([T],{type:"text/csv;charset=utf-8;"}),g=new Date,A=g.toISOString().split("T")[0],j=g.toTimeString().split(" ")[0].replace(/:/g,"-"),C=`${document.location.pathname.includes("vehicle-logging")?"vehicle_logging":"site_data"}_${A}_${j}.csv`;if("showSaveFilePicker"in window){async function f(){try{const R=await(await window.showSaveFilePicker({suggestedName:C,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await R.write(p),await R.close()}catch(x){x.name!=="AbortError"&&B()}}f()}else B();function B(){const f=document.createElement("a");f.href=URL.createObjectURL(p),f.setAttribute("download",C),document.body.appendChild(f),f.click(),document.body.removeChild(f)}}async function Kt(){try{const{jsPDF:e}=window.jspdf;if(!e)throw new Error("jsPDF library not found");const s=new e;s.setFont("helvetica","bold"),s.setFontSize(16),s.text("Site Data",14,15);const r=new Date().toLocaleString();s.setFontSize(10),s.setFont("helvetica","normal"),s.text(`Generated: ${r}`,14,25);const w=document.querySelector("table");if(!w)throw new Error("Table not found");const o=w.cloneNode(!0);o.querySelectorAll(".more-details").forEach(A=>{const j=A.closest("td, th");j&&(j.textContent="")}),s.autoTable({html:o,startY:30,styles:{fontSize:8,cellPadding:2,overflow:"linebreak",halign:"center"},headStyles:{fillColor:[1,75,150],textColor:255,fontSize:8,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[234,243,252]},margin:{top:30}});const k=new Date,T=k.toISOString().split("T")[0],p=k.toTimeString().split(" ")[0].replace(/:/g,"-"),g=`site_data_${T}_${p}.pdf`;if("showSaveFilePicker"in window)try{const j=await(await window.showSaveFilePicker({suggestedName:g,types:[{description:"PDF File",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await j.write(s.output("blob")),await j.close()}catch(A){console.error("File save error:",A),rt(s,g)}else rt(s,g);return!0}catch(e){return console.error("PDF generation failed:",e),!1}}function rt(e,s){e.save(s)}Rt();var ot=qa();ga(e=>{var s=Ea();ma.title="Site Data";var r=a(ue(s),8);y(r,"href",`${b??""}/css/styles.css`),qe(6),D(e,s)});var Ge=ue(ot),ct=n(Ge),dt=a(n(ct),2),vt=n(dt);ba(vt,`      background: url(${b??""}/svg/Vector_1.svg) no-repeat left center; mask-image: url(${b??""}/svg/Vector_1.svg'); -webkit-mask-image: url(${b??""}/svg/Vector_1.svg);`);var ut=a(vt,4);y(ut,"href",`${b??""}/home`);var pt=a(ut,2);y(pt,"href",`${b??""}/inventory`);var ft=a(pt,2);y(ft,"href",`${b??""}/cross-drops`);var zt=a(ft,2);y(zt,"href",`${b??""}/vehicle-logging`);var mt=a(zt,2);y(mt,"href",`${b??""}/analytics`);var Wt=a(mt,4);y(Wt,"src",`${b??""}/images/Midas_Link_logo.png`),l(dt),l(ct),l(Ge);var Oe=a(Ge,2),gt=n(Oe);y(gt,"href",`${b??""}/home`);var ht=a(gt,2);y(ht,"href",`${b??""}/vehicle-logging`);var bt=a(ht,2);y(bt,"href",`${b??""}/cross-drops`);var yt=a(bt,2);y(yt,"href",`${b??""}/site-data`);var _t=a(yt,2);y(_t,"href",`${b??""}/inventory`);var Qt=a(_t,2);y(Qt,"href",`${b??""}/analytics`),qe(2),l(Oe);var Re=a(Oe,4),He=n(Re),Xt=n(He);y(Xt,"src",`${b??""}/images/Gas_station_graphic.png`),qe(4),l(He);var St=a(He,2),ea=n(St);y(ea,"href",`${b??""}/home`),qe(2),l(St),l(Re);var Je=a(Re,2),Dt=n(Je),je=n(Dt),wt=n(je),kt=a(n(wt)),ta=n(kt,!0);l(kt),l(wt),l(je);var Be=a(je,2);let Ct;var xt=n(Be);Ye(xt,{id:"Business-unit",label:"Business Unit",get options(){return t(F)},get value(){return t(i).businessUnit},set value(e){J(i,t(i).businessUnit=e)},$$events:{keydown:e=>{e.key==="Enter"&&E()}},$$legacy:!0});var he=a(xt,4);we(he),Ce(he,e=>d(Le,e),()=>t(Le));var $t=a(he,2);Ye($t,{id:"State",label:"State",get options(){return t(W)},get value(){return t(i).state},set value(e){J(i,t(i).state=e)},$$events:{keydown:e=>{e.key==="Enter"&&E()}},$$legacy:!0});var Lt=a($t,2);Ye(Lt,{id:"City",label:"City",get options(){return t(me)},get value(){return t(i).city},set value(e){J(i,t(i).city=e)},$$events:{keydown:e=>{e.key==="Enter"&&E()}},$$legacy:!0});var Et=a(Lt,2);Ye(Et,{id:"Site",label:"Site",get options(){return t(G)},get value(){return t(i).site},set value(e){J(i,t(i).site=e)},$$events:{keydown:e=>{e.key==="Enter"&&E()}},$$legacy:!0});var be=a(Et,4);we(be),Ce(be,e=>d(Ee,e),()=>t(Ee));var ye=a(be,4);we(ye),Ce(ye,e=>d(Te,e),()=>t(Te));var Ue=a(ye,4);we(Ue),Ce(Ue,e=>d(Ae,e),()=>t(Ae)),l(Be);var Pe=a(Be,2);let Tt;var At=n(Pe),aa=a(At,2);l(Pe);var Ke=a(Pe,2),Ft=a(n(Ke),2),jt=n(Ft),Bt=a(jt,2),Ut=n(Bt),sa=a(Ut,2);l(Bt),l(Ft),l(Ke);var Pt=a(Ke,2),We=n(Pt),Mt=a(n(We)),la=n(Mt);{var na=e=>{var s=Ta();D(e,s)},ia=(e,s)=>{{var r=o=>{var u=Aa(),k=n(u),T=n(k,!0);l(k),l(u),Y(()=>z(T,t(Z))),D(o,u)},w=(o,u)=>{{var k=p=>{var g=Yt(),A=ue(g);nt(A,1,()=>t(S),it,(j,c,C)=>{var B=ja(),f=ue(B),x=n(f),R=n(x,!0);l(x);var te=a(x),ie=n(te,!0);l(te);var ae=a(te),Qe=n(ae,!0);l(ae);var re=a(ae),Xe=n(re,!0);l(re),l(f);var Me=a(f,2);{var et=se=>{var q=Fa(),U=n(q),H=a(n(U),2),_e=n(H),oe=a(_e,4),Ie=a(oe,2),ce=a(Ie,4),Se=a(ce,4),tt=a(Se,2);l(H),l(U);var de=a(U),at=n(de);l(de),l(q),Y((De,Ne,st,lt)=>{fe(q,1,`details-row ${De??""}`,"svelte-15zt1nz"),z(_e,`${Ne??""} | ${st??""} to ${lt??""} `),z(oe,` ${(t(c).SiteCode||"")??""} | `),z(Ie,` ${(t(c).BusinessUnitName||"")??""} `),z(ce,` ${(t(c).Address||"")??""} , ${t(c).City??""}
                      ${t(c).State??""} | ${t(c).Zip??""} `),z(Se,` ${(t(c).Delivered||"")??""} | `),z(tt,` T${(t(c).tank_number||"")??""}`)},[()=>ee(C),()=>N(M(t(c).event_timestamp)),()=>X(t(c)["Delivery Start"])||"",()=>X(t(c)["Delivery End"])||""],pe),h("click",at,()=>$e(t(c))),h("click",q,()=>le(C)),D(se,q)};K(Me,se=>{t(L)[C]&&se(et)})}Y((se,q,U)=>{fe(f,1,`main-row ${se??""} ${t(L)[C]?"hover-row":""}`,"svelte-15zt1nz"),z(R,q),z(ie,U),z(Qe,t(c).SiteCode),z(Xe,t(c).Delivered)},[()=>ee(C),()=>N(M(t(c).event_timestamp)),()=>X(t(c)["Delivery End"])],pe),h("click",f,()=>le(C)),D(j,B)}),D(p,g)},T=p=>{var g=Ba();D(p,g)};K(o,p=>{t(S).length>0?p(k):p(T,!1)},u)}};K(e,o=>{t(Z)?o(r):o(w,!1)},s)}};K(la,e=>{t(V)?e(na):e(ia,!1)})}l(Mt),l(We);var It=a(We,2),ra=n(It);{var oa=e=>{var s=Ua();D(e,s)},ca=(e,s)=>{{var r=o=>{var u=Pa(),k=n(u,!0);l(u),Y(()=>z(k,t(Z))),D(o,u)},w=(o,u)=>{{var k=p=>{var g=Yt(),A=ue(g);nt(A,1,()=>t(S),it,(j,c,C)=>{var B=Ia(),f=n(B),x=n(f),R=n(x),te=n(R,!0);l(R),l(x);var ie=a(x,2),ae=n(ie),Qe=n(ae);l(ae);var re=a(ae,2),Xe=n(re);l(re);var Me=a(re,2),et=n(Me,!0);l(Me),l(ie),l(f);var se=a(f,2);{var q=U=>{var H=Ma(),_e=a(n(H),4),oe=n(_e),Ie=n(oe);l(oe);var ce=a(oe,2),Se=a(n(ce)),tt=a(Se,2);l(ce);var de=a(ce,2),at=a(n(de));l(de);var De=a(de,2),Ne=a(n(De)),st=a(Ne,2);l(De);var lt=a(De,2);l(_e),l(H),Y((va,ua,pa)=>{z(Ie,`${va??""} | ${ua??""} to ${pa??""}`),z(Se,` ${t(c).SiteCode??""} | `),z(tt,` ${(t(c).BusinessUnitName||"")??""}`),z(at,` ${(t(c).Address||"")??""}, ${(t(c).City||"")??""}
                      ${(t(c).State||"")??""} | ${(t(c).Zip||"")??""}`),z(Ne,` ${t(c).Delivered??""} | `),z(st,` T${t(c).tank_number??""}`)},[()=>N(M(t(c).event_timestamp)),()=>X(t(c)["Delivery Start"])||"",()=>X(t(c)["Delivery End"])||""],pe),h("click",lt,()=>$e(t(c))),D(U,H)};K(se,U=>{t(L)[C]&&U(q)})}l(B),Y((U,H)=>{fe(B,1,`card ${U??""}`,"svelte-15zt1nz"),z(te,H),z(Qe,`Fuel: ${t(c).Delivered??""}`),z(Xe,`Site: ${t(c).SiteCode??""}`),z(et,t(L)[C]?"▲":"▼")},[()=>ee(C),()=>N(M(t(c).event_timestamp))==="Just now"?"Just now":`${N(M(t(c).event_timestamp))} `],pe),h("click",B,()=>le(C)),D(j,B)}),D(p,g)},T=p=>{var g=Na();D(p,g)};K(o,p=>{t(S).length>0?p(k):p(T,!1)},u)}};K(e,o=>{t(Z)?o(r):o(w,!1)},s)}};K(ra,e=>{t(V)?e(oa):e(ca,!1)})}l(It),l(Pt),l(Dt),l(Je);var Nt=a(Je,2),qt=n(Nt),da=a(n(qt),2);return y(da,"src",`${b??""}/images/logo.png`),l(qt),l(Nt),Y((e,s)=>{z(ta,t(Q)?"▲":"▼"),Ct=fe(Be,1,"search-fields svelte-15zt1nz",null,Ct,e),Tt=fe(Pe,1,"button-container svelte-15zt1nz",null,Tt,s)},[()=>({visible:t(Q)}),()=>({visible:t(Q)})],pe),h("click",je,I),ke(he,()=>t(i).address,e=>J(i,t(i).address=e)),h("keydown",he,e=>{e.key==="Enter"&&E()}),ke(be,()=>t(i).zip,e=>J(i,t(i).zip=e)),h("keydown",be,e=>{e.key==="Enter"&&E()}),ke(ye,()=>t(i).date,e=>J(i,t(i).date=e)),h("keydown",ye,e=>{e.key==="Enter"&&E()}),ke(Ue,()=>t(i).fuel,e=>J(i,t(i).fuel=e)),h("keydown",Ue,e=>{e.key==="Enter"&&E()}),h("click",At,E),h("click",aa,Ve),h("click",jt,Ht),h("click",Ut,Jt),h("click",sa,Kt),D(xe,ot),Ot(v,"updateDateTime",m),Gt({updateDateTime:m})}export{cs as component,os as universal};
