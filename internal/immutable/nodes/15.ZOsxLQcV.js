import{t as $,a as b,c as ia,d as Nt}from"../chunks/B8AjNrGC.js";import"../chunks/D34AsAzw.js";import{an as Ut,z as P,ap as oe,aq as V,ao as Yt,aK as na,ar as a,c as l,k as ce,j as t,r as s,W as p,au as oa,aL as te,av as Ue}from"../chunks/CERrcAZ7.js";import{s as m,h as ca}from"../chunks/CEIkUs5_.js";import{i as H}from"../chunks/BIbRKX5X.js";import{e as at,i as st}from"../chunks/uagtVMrj.js";import{s as y,c as va,b as ke,r as Te,a as da}from"../chunks/BHjRODUC.js";import{e as g}from"../chunks/CV8IrTpd.js";import{b as xe}from"../chunks/BDd58mOU.js";import{p as jt}from"../chunks/CWmzcjye.js";import{i as zt}from"../chunks/2z9SFfgS.js";import{o as fa}from"../chunks/B_PGvOcg.js";import{g as ua}from"../chunks/BBP33HGX.js";import{b as h}from"../chunks/B50cuaQN.js";import{g as pa}from"../chunks/D1sbGnYh.js";import{p as ma}from"../chunks/BHeSvFlx.js";import{b as ga,a as ha}from"../chunks/XbotU5Rf.js";import{b as _a}from"../chunks/BrAiaIXM.js";import{l as It,p as ne}from"../chunks/BJ1TK7WU.js";import{P as Vt}from"../chunks/XVZJVHkn.js";const ya=!1,ts=Object.freeze(Object.defineProperty({__proto__:null,prerender:ya},Symbol.toStringTag,{value:"Module"}));function Mt(){const W=document.getElementById("current-datetime");if(W){const f=new Date,J={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};W.textContent=f.toLocaleDateString("en-US",J)}}function ba(){document.querySelectorAll(".search-fields input").forEach(f=>{const J=f.id+"_"+Math.random().toString(36).substring(2,9);f.setAttribute("name",J),(f.id==="State"||f.id==="Zip"||f.id==="Date"||f.id==="ST-address"||f.id==="City"||f.id==="Fuel")&&(f.setAttribute("autocomplete","new-password"),f.setAttribute("data-lpignore","true"),f.setAttribute("data-form-type","other"))})}var Da=$('<div class="dropdown-item svelte-1o6jmi1"> </div>'),wa=$('<label> </label> <div class="custom-dropdown svelte-1o6jmi1"><div class="input-wrapper svelte-1o6jmi1"><input> <div class="dropdown-arrow svelte-1o6jmi1"></div></div> <div></div></div>',1);function Bt(W,f){const J=It(f,["children","$$slots","$$events","$$legacy"]),$e=It(J,["prerender","id","label","placeholder","options","value","onChange"]);Ut(f,!1);let A=ne(f,"id",8,""),k=ne(f,"label",8,""),Le=ne(f,"placeholder",8,"Select or type"),M=ne(f,"options",24,()=>[]),B=ne(f,"value",12,""),U=ne(f,"onChange",8,()=>{});const D=!0;let i=P(!1),N=P(),Y=P([...M()]);function ae(){p(i,!t(i)),t(i)&&p(Y,[...M()])}function z(_){B(_),U()(_),p(i,!1)}function K(){const _=B().toLowerCase();p(Y,M().filter(Z=>Z.toLowerCase().includes(_))),p(i,!0)}function ve(_){t(N)&&!t(N).contains(_.target)&&p(i,!1)}function Ye(_){_.stopPropagation(),p(Y,[...M()]),ae()}zt();var F=wa();g("click",na,ve);var se=oe(F),de=l(se,!0);s(se);var fe=a(se,2),ue=l(fe),j=l(ue);Te(j);let pe;var ze=a(j,2);s(ue);var le=a(ue,2);let re;return at(le,5,()=>t(Y),st,(_,Z)=>{var O=Da(),Ce=l(O,!0);s(O),V(()=>m(Ce,t(Z))),g("click",O,()=>z(t(Z))),b(_,O)}),s(le),s(fe),_a(fe,_=>p(N,_),()=>t(N)),V(_=>{y(se,"for",A()),m(de,k()),pe=va(j,pe,{id:A(),type:"text",placeholder:Le(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",...$e},"svelte-1o6jmi1"),re=ke(le,1,"dropdown-content svelte-1o6jmi1",null,re,_)},[()=>({show:t(i)})],ce),xe(j,B),g("input",j,K),g("focus",j,()=>{p(Y,[...M()]),p(i,!0)}),g("keydown",j,function(_){ha.call(this,f,_)}),g("click",ze,Ye),b(W,F),ga(f,"prerender",D),Yt({prerender:D})}var Sa=ia('<meta charset="UTF-8" class="svelte-1fl9113"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-1fl9113"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-1fl9113"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-1fl9113"> <link rel="stylesheet" class="svelte-1fl9113"> <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-1fl9113"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-1fl9113"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-1fl9113"><\/script>',1),ka=$('<tr class="svelte-1fl9113"><td colspan="5" style="text-align: center; padding: 20px;" class="svelte-1fl9113">Loading events...</td></tr>'),Ta=$('<tr class="svelte-1fl9113"><td colspan="5" style="text-align: center; padding: 20px; color: red;" class="svelte-1fl9113"> </td></tr>'),xa=$('<tr><td colspan="4" class="details-cell svelte-1fl9113"><div class="details-header svelte-1fl9113">Details:</div> <div class="details-content svelte-1fl9113"><div class="detail-row svelte-1fl9113"> </div> <div class="detail-row svelte-1fl9113"><span class="label svelte-1fl9113">Trailer No.:</span> </div> <div class="detail-row svelte-1fl9113"><span class="label svelte-1fl9113">Full Address:</span> </div> <div class="detail-row svelte-1fl9113"><span class="label svelte-1fl9113">Product:</span> <span class="label svelte-1fl9113">Tank:</span> </div></div></td><td class="svelte-1fl9113"><button class="more-details svelte-1fl9113">View Vehicle Timeline</button></td></tr>'),$a=$('<tr><td class="svelte-1fl9113"> </td><td class="svelte-1fl9113"> </td><td class="svelte-1fl9113"> </td><td class="svelte-1fl9113"> </td><td class="svelte-1fl9113"> </td></tr> <!>',1),La=$('<tr class="svelte-1fl9113"><td colspan="5" style="text-align: center; padding: 20px;" class="svelte-1fl9113">No results found</td></tr>'),Ca=$('<div class="loading-message svelte-1fl9113" style="text-align: center;">Loading events...</div>'),Ea=$('<div class="error-message svelte-1fl9113" style="text-align: center;"> </div>'),Pa=$('<div class="card-details svelte-1fl9113"><hr class="svelte-1fl9113"> <div class="details-header svelte-1fl9113">Details:</div> <div class="details-content svelte-1fl9113"><div class="detail-row svelte-1fl9113"> </div> <div class="detail-row svelte-1fl9113"><span class="label svelte-1fl9113">Trailer No:</span> </div> <div class="detail-row svelte-1fl9113"><span class="label svelte-1fl9113">Full Address:</span> </div> <div class="detail-row svelte-1fl9113"><span class="label svelte-1fl9113">Product:</span> <span class="label svelte-1fl9113">Tank:</span> </div> <button class="more-details mobile-details-btn svelte-1fl9113">View Vehicle Timeline</button></div></div>'),Fa=$('<div><div class="card-header svelte-1fl9113"><div class="card-item svelte-1fl9113"><span class="card-label svelte-1fl9113"> </span></div> <div class="card-item svelte-1fl9113"><span class="card-value svelte-1fl9113" style="margin-left: 2vw;"> </span> <span class="card-value svelte-1fl9113" style="margin-left: 2vw;"> </span> <span class="card-value svelte-1fl9113" style="position: relative;margin-left:auto"> </span></div></div> <!></div>'),Aa=$('<div class="no-results svelte-1fl9113" style="text-align: center;">No results found</div>'),Na=$(`<header class="svelte-1fl9113"><div class="header-container svelte-1fl9113"><div class="top-header svelte-1fl9113"><a class="top-header-link svelte-1fl9113" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-1fl9113" href=" ">Contact Us</a></div> <div class="header svelte-1fl9113"><div class="header-background svelte-1fl9113"></div> <div class="hamburger-menu svelte-1fl9113" id="hamburger-menu"><span class="svelte-1fl9113"></span> <span class="svelte-1fl9113"></span> <span class="svelte-1fl9113"></span></div> <a class="svelte-1fl9113">Home</a> <a class="svelte-1fl9113">Inventory</a> <a class="svelte-1fl9113">Cross-Drop Prevention</a> <a class="svelte-1fl9113">Site Data</a> <a class="svelte-1fl9113">Analytics</a> <input type="text" placeholder="Search..." class="svelte-1fl9113"> <img alt="Berrys Logo" class="svelte-1fl9113"></div></div></header> <div class="mobile-sidebar svelte-1fl9113" id="mobile-sidebar"><a class="svelte-1fl9113">Home</a> <a class="svelte-1fl9113">Vehicle Logging</a> <a class="svelte-1fl9113">Cross-Drop Prevention</a> <a class="svelte-1fl9113">Site Data</a> <a class="svelte-1fl9113">Inventory</a> <a class="svelte-1fl9113">Analytics</a> <span class="footer-text svelte-1fl9113">Contact Us <br class="svelte-1fl9113"> Berrys Technologies Ltd 141 Lichfield Road, Birmingham , B6 5SP , United Kingdom <br class="svelte-1fl9113"> 0121 558 4411 <br class="svelte-1fl9113"> enquiries@berrys.com</span></div> <div class="overlay svelte-1fl9113" id="overlay"></div> <div class="sub-header-container svelte-1fl9113"><div class="sub-header svelte-1fl9113"><img alt="Truck Graphic" class="subheader-image svelte-1fl9113"> <h1 class="svelte-1fl9113">Vehicle Logging</h1> <span class="svelte-1fl9113">Access key information on each trailer, with real-time access to
      deliveries, focusing on trailer ID. See where trailers are located, what
      they are delivering or a full log on delivery history.</span></div> <div class="breadcrumb svelte-1fl9113"><a class="svelte-1fl9113">Home</a> / <span class="svelte-1fl9113">Vehicle Logging</span></div></div> <main class="vehicle-logging-page svelte-1fl9113"><div class="main-container svelte-1fl9113"><button class="toggle-search-btn svelte-1fl9113"><label for="search-fields" class="search-label svelte-1fl9113">Search <span style="font-size:1rem" class="svelte-1fl9113"> </span></label></button> <div><label for="ST-address" class="svelte-1fl9113">Address</label> <input type="text" id="ST-address" name="ST-address" class="svelte-1fl9113"> <!> <!> <label for="Trailer_No" class="svelte-1fl9113">Trailer No</label> <input type="text" id="Trailer_No" name="Trailer_No" class="svelte-1fl9113"> <label for="Date" class="svelte-1fl9113">Date</label> <input type="date" id="Date" name="Date" placeholder="YYYY-MM-DD" class="svelte-1fl9113"> <label for="Fuel" class="svelte-1fl9113">Fuel</label> <input type="text" id="Fuel" name="Fuel" class="svelte-1fl9113"> <div class="button-container svelte-1fl9113"><button class="search-button svelte-1fl9113">Search</button> <button class="clear-button svelte-1fl9113">Clear</button></div></div> <div class="table-header svelte-1fl9113"><div class="live-status svelte-1fl9113"><div class="toggle-live svelte-1fl9113"><label for="table-type" class="table-type svelte-1fl9113">LIVE <span class="live-indicator svelte-1fl9113"></span></label></div> <label for="table-type" class="table-type svelte-1fl9113"><span id="current-datetime" class="current-time svelte-1fl9113"></span></label></div> <div class="export-dropdown svelte-1fl9113"><button class="export-button svelte-1fl9113">Export As ▼</button> <div class="dropdown-content svelte-1fl9113" id="exportDropdown"><a href=" " class="svelte-1fl9113">CSV</a> <a href=" " class="svelte-1fl9113">PDF</a></div></div></div> <div class="data-container svelte-1fl9113"><table class="desktop-view svelte-1fl9113"><thead class="svelte-1fl9113"><tr class="svelte-1fl9113"><th class="svelte-1fl9113">Date</th><th class="svelte-1fl9113">Time</th><th class="svelte-1fl9113">City</th><th class="svelte-1fl9113">Vehicle ID</th><th class="svelte-1fl9113">Prevented Delivery</th></tr></thead><tbody class="svelte-1fl9113"><!></tbody></table> <div class="mobile-card-view svelte-1fl9113"><!></div></div></div></main> <footer class="svelte-1fl9113"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-1fl9113"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-1fl9113">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-1fl9113"></div></footer>`,1);function as(W,f){Ut(f,!1);const J=ua(ma).url.pathname;function $e(e){pa(`${h}/vehicle/${e["Trailer No."]}`,{state:{from:J,trailer:e["Trailer No."]}})}let A=[],k=P([]),Le=P([]),M=P([]),B=P(!0),U=P(null),D=P([]),i=P({address:"",state:"",city:"",trailer:"",date:"",fuel:""}),N=P(!1);async function Y(){try{p(B,!0),p(U,null),console.log("Fetching prevented delivery events from API...");const e=await fetch(`${Vt}/api/Vehicle_Logging`,{method:"GET",credentials:"include"});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();console.log("Prevented Delivery Events Data Loaded:",r),A=r,p(k,[...A]),p(M,[...new Set(A.map(n=>n.State).filter(n=>n&&n.trim()!==""))]),p(Le,[...new Set(A.map(n=>n.City).filter(n=>n&&n.trim()!==""))]),p(D,Array(t(k).length).fill(!1)),re(!0)}catch(e){console.error("Error fetching prevented delivery events:",e),p(U,"Failed to load prevented delivery events data. Please try again.")}finally{p(B,!1)}}function ae(e){if(!e)return"";const[r,n,w]=e.split("."),c=new Date(w,n-1,r);if(isNaN(c.getTime()))return e;const d=new Date;if((d-c)/(1e3*60)<=30)return"Just now";if(c.getDate()===d.getDate()&&c.getMonth()===d.getMonth()&&c.getFullYear()===d.getFullYear())return"Today";const u=new Date(d);if(u.setDate(d.getDate()-1),c.getDate()===u.getDate()&&c.getMonth()===u.getMonth()&&c.getFullYear()===u.getFullYear())return"Yesterday";const o=new Date(d);if(o.setDate(d.getDate()-2),c.getDate()===o.getDate()&&c.getMonth()===o.getMonth()&&c.getFullYear()===o.getFullYear())return"Two days ago";const T={year:"numeric",month:"long",day:"numeric"};return c.toLocaleDateString("en-US",T)}function z(e){return typeof e!="number"||isNaN(e)?"":new Date(e*1e3).toLocaleDateString("en-GB",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".")}function K(e){return typeof e!="number"||isNaN(e)?"":new Date(e*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}function ve(e){return e%2===0?"row-even":"row-odd"}function Ye(){p(N,!t(N))}function F(){p(k,A.filter(e=>{const r=!t(i).address||e.Address&&e.Address.toLowerCase().includes(t(i).address.toLowerCase()),n=!t(i).state||e.State&&e.State.toLowerCase().includes(t(i).state.toLowerCase()),w=!t(i).city||e.City&&e.City.toLowerCase().includes(t(i).city.toLowerCase()),c=!t(i).trailer||e["Trailer No."]&&e["Trailer No."].toLowerCase().includes(t(i).trailer.toLowerCase()),d=e.event_timestamp?new Date(e.event_timestamp*1e3).toISOString().split("T")[0]:"",S=!t(i).date||d&&d.includes(t(i).date),L=!t(i).fuel||e["Prevented Delivery "]&&e["Prevented Delivery "].toLowerCase().includes(t(i).fuel.toLowerCase());return r&&n&&w&&c&&S&&L})),p(D,Array(t(k).length).fill(!1)),re()}function se(){console.log("Clearing search parameters."),p(i,{address:"",state:"",city:"",trailer:"",date:"",fuel:""}),p(k,[...A]),p(D,Array(t(k).length).fill(!1)),re(!0)}function de(e){te(D,t(D)[e]=!t(D)[e]),p(D,t(D))}function fe(){document.getElementById("exportDropdown").classList.toggle("show")}function ue(){const e=document.querySelectorAll(".search-fields input");return Array.from(e).some(r=>r.value.trim()!=="")}function j(){let e=[];const r=["Date","Time","City","Vehicle ID","Prevented Delivery","Address","State","Tank No."];e.push(r.join(",")),t(k).forEach(o=>{const T=z(o.event_timestamp),q=K(o.event_timestamp),v=[`"${T}"`,`"${q}"`,`"${o.City||""}"`,`"${o["Trailer No."]||""}"`,`"${o["Prevented Delivery "]||""}"`,`"${o.Address||""}"`,`"${o.State||""}"`,`"T${o.tank_number||""}"`];e.push(v.join(","))});const n=e.join(`
`),w=new Blob([n],{type:"text/csv;charset=utf-8;"}),c=new Date,d=c.toISOString().split("T")[0],S=c.toTimeString().split(" ")[0].replace(/:/g,"-"),u=`vehicle_logging_${d}_${S}.csv`;if("showSaveFilePicker"in window){async function o(){try{const q=await(await window.showSaveFilePicker({suggestedName:u,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await q.write(w),await q.close()}catch(T){T.name!=="AbortError"&&pe(w,u)}}o()}else pe(w,u)}function pe(e,r){const n=document.createElement("a");n.href=URL.createObjectURL(e),n.setAttribute("download",r),document.body.appendChild(n),n.click(),document.body.removeChild(n)}async function ze(){try{const{jsPDF:e}=window.jspdf;if(!e)throw new Error("jsPDF library not found");const r=new e;r.setFont("helvetica","bold"),r.setFontSize(16),r.text("Vehicle Logging Data",14,15);const n=new Date().toLocaleString();r.setFontSize(10),r.setFont("helvetica","normal"),r.text(`Generated: ${n}`,14,25);const w=["Date","Time","City","Vehicle ID","Prevented Delivery","Address","State","Tank No."],c=t(k).map(o=>[z(o.event_timestamp),K(o.event_timestamp),o.City||"",o["Trailer No."]||"",o["Prevented Delivery "]||"",o.Address||"",o.State||"",`T${o.tank_number||""}`]);r.autoTable({head:[w],body:c,startY:30,styles:{fontSize:8,cellPadding:2,overflow:"linebreak",halign:"center"},headStyles:{fillColor:[1,75,150],textColor:255,fontSize:8,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[234,243,252]},margin:{top:30}});const d=new Date,S=d.toISOString().split("T")[0],L=d.toTimeString().split(" ")[0].replace(/:/g,"-"),u=`vehicle_logging_${S}_${L}.pdf`;if("showSaveFilePicker"in window)try{const T=await(await window.showSaveFilePicker({suggestedName:u,types:[{description:"PDF File",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await T.write(r.output("blob")),await T.close()}catch(o){console.error("File save error:",o),le(r,u)}else le(r,u);return!0}catch(e){return console.error("PDF generation failed:",e),!1}}function le(e,r){e.save(r)}function re(e=!1){const r=document.querySelector(".toggle-live");r&&(!e&&ue()?r.style.display="none":r.style.display="block")}function _(){const e=document.getElementById("hamburger-menu"),r=document.getElementById("mobile-sidebar"),n=document.getElementById("overlay");e&&r&&n&&(e.addEventListener("click",function(){r.classList.toggle("active"),n.style.display=r.classList.contains("active")?"block":"none"}),n.addEventListener("click",function(){r.classList.remove("active"),n.style.display="none"}),r.querySelectorAll("a").forEach(c=>{c.addEventListener("click",function(){r.classList.remove("active"),n.style.display="none"})}))}fa(async()=>{_(),Mt(),ba();const e=new EventSource(`${Vt}/api/events/subscribe`);e.onopen=()=>{console.log("Connected to SSE stream.")},e.addEventListener("dataUpdate",n=>{console.log("Received SSE update:",n.data),JSON.parse(n.data).type==="vehicleLogging"&&(console.log("Vehicle Logging data changed via SSE, re-fetching..."),Y())}),e.onerror=n=>{console.error("SSE connection error:",n),e.close()},await Y();const r=setInterval(Mt,1e3);return()=>{e.close(),console.log("SSE connection closed."),clearInterval(r)}}),zt();var Z=Na();ca(e=>{var r=Sa();oa.title="Vehicle Logging";var n=a(oe(r),8);y(n,"href",`${h??""}/css/styles.css`),Ue(6),b(e,r)});var O=oe(Z),Ce=l(O),lt=a(l(Ce),2),rt=l(lt);da(rt,`background: url(${h??""}/svg/Vector_1.svg) no-repeat left center; mask-image: url(${h??""}/svg/Vector_1.svg'); -webkit-mask-image: url(${h??""}/svg/Vector_1.svg);`);var it=a(rt,4);y(it,"href",`${h??""}/home`);var nt=a(it,2);y(nt,"href",`${h??""}/inventory`);var ot=a(nt,2);y(ot,"href",`${h??""}/cross-drops`);var ct=a(ot,2);y(ct,"href",`${h??""}/site-data`);var vt=a(ct,2);y(vt,"href",`${h??""}/analytics`);var Ot=a(vt,4);y(Ot,"src",`${h??""}/images/Midas_Link_logo.png`),s(lt),s(Ce),s(O);var Oe=a(O,2),dt=l(Oe);y(dt,"href",`${h??""}/home`);var ft=a(dt,2);y(ft,"href",`${h??""}/vehicle-logging`);var ut=a(ft,2);y(ut,"href",`${h??""}/cross-drops`);var pt=a(ut,2);y(pt,"href",`${h??""}/site-data`);var mt=a(pt,2);y(mt,"href",`${h??""}/inventory`);var qt=a(mt,2);y(qt,"href",`${h??""}/analytics`),Ue(2),s(Oe);var qe=a(Oe,4),Re=l(qe),Rt=l(Re);y(Rt,"src",`${h??""}/images/Truck_graphic.png`),Ue(4),s(Re);var gt=a(Re,2),Gt=l(gt);y(Gt,"href",`${h??""}/home`),Ue(2),s(gt),s(qe);var Ge=a(qe,2),ht=l(Ge),Ee=l(ht),_t=l(Ee),yt=a(l(_t)),Ht=l(yt,!0);s(yt),s(_t),s(Ee);var Pe=a(Ee,2);let bt;var Fe=a(l(Pe),2);Te(Fe);var Dt=a(Fe,2);Bt(Dt,{id:"State",label:"State",get options(){return t(M)},get value(){return t(i).state},set value(e){te(i,t(i).state=e)},$$events:{keydown:e=>{e.key==="Enter"&&F()}},$$legacy:!0});var wt=a(Dt,2);Bt(wt,{id:"City",label:"City",get options(){return t(Le)},get value(){return t(i).city},set value(e){te(i,t(i).city=e)},$$events:{keydown:e=>{e.key==="Enter"&&F()}},$$legacy:!0});var Ae=a(wt,4);Te(Ae);var Ne=a(Ae,4);Te(Ne);var je=a(Ne,4);Te(je);var St=a(je,2),kt=l(St),Wt=a(kt,2);s(St),s(Pe);var He=a(Pe,2),Tt=a(l(He),2),xt=l(Tt),$t=a(xt,2),Lt=l($t),Jt=a(Lt,2);s($t),s(Tt),s(He);var Ct=a(He,2),We=l(Ct),Et=a(l(We)),Kt=l(Et);{var Zt=e=>{var r=ka();b(e,r)},Qt=(e,r)=>{{var n=c=>{var d=Ta(),S=l(d),L=l(S,!0);s(S),s(d),V(()=>m(L,t(U))),b(c,d)},w=(c,d)=>{{var S=u=>{var o=Nt(),T=oe(o);at(T,1,()=>t(k),st,(q,v,C)=>{var R=$a(),I=oe(R),Q=l(I),Ie=l(Q,!0);s(Q);var me=a(Q),Ve=l(me,!0);s(me);var X=a(me),Je=l(X,!0);s(X);var ee=a(X),Ke=l(ee,!0);s(ee);var ge=a(ee),Ze=l(ge,!0);s(ge),s(I);var Qe=a(I,2);{var Xe=E=>{var x=xa(),G=l(x),ie=a(l(G),2),he=l(ie),_e=l(he);s(he);var ye=a(he,2),be=a(l(ye));s(ye);var De=a(ye,2),we=a(l(De));s(De);var Se=a(De,2),Me=a(l(Se)),et=a(Me,2);s(Se),s(ie),s(G);var Be=a(G),tt=l(Be);s(Be),s(x),V((sa,la,ra)=>{ke(x,1,`details-row ${sa??""}`,"svelte-1fl9113"),m(_e,`${la??""} | ${ra??""}`),m(be,` ${t(v)["Trailer No."]??""}`),m(we,` ${(t(v).Address||"")??""}, ${t(v).City??""} ${t(v).State??""}`),m(Me,` ${(t(v)["Prevented Delivery "]||t(v).Delivered||"")??""} | `),m(et,` T${(t(v).tank_number||"")??""}`)},[()=>ve(C),()=>ae(z(t(v).event_timestamp)),()=>K(t(v).event_timestamp)],ce),g("click",tt,()=>$e(t(v))),g("click",x,()=>de(C)),b(E,x)};H(Qe,E=>{t(D)[C]&&E(Xe)})}V((E,x,G)=>{ke(I,1,`main-row ${E??""} ${t(D)[C]?"hover-row":""}`,"svelte-1fl9113"),m(Ie,x),m(Ve,G),m(Je,t(v).City),m(Ke,t(v)["Trailer No."]),m(Ze,t(v)["Prevented Delivery "]||t(v).Delivered)},[()=>ve(C),()=>ae(z(t(v).event_timestamp)),()=>K(t(v).event_timestamp)],ce),g("click",I,()=>de(C)),b(q,R)}),b(u,o)},L=u=>{var o=La();b(u,o)};H(c,u=>{t(k).length>0?u(S):u(L,!1)},d)}};H(e,c=>{t(U)?c(n):c(w,!1)},r)}};H(Kt,e=>{t(B)?e(Zt):e(Qt,!1)})}s(Et),s(We);var Pt=a(We,2),Xt=l(Pt);{var ea=e=>{var r=Ca();b(e,r)},ta=(e,r)=>{{var n=c=>{var d=Ea(),S=l(d,!0);s(d),V(()=>m(S,t(U))),b(c,d)},w=(c,d)=>{{var S=u=>{var o=Nt(),T=oe(o);at(T,1,()=>t(k),st,(q,v,C)=>{var R=Fa(),I=l(R),Q=l(I),Ie=l(Q),me=l(Ie,!0);s(Ie),s(Q);var Ve=a(Q,2),X=l(Ve),Je=l(X);s(X);var ee=a(X,2),Ke=l(ee);s(ee);var ge=a(ee,2),Ze=l(ge,!0);s(ge),s(Ve),s(I);var Qe=a(I,2);{var Xe=E=>{var x=Pa(),G=a(l(x),4),ie=l(G),he=l(ie);s(ie);var _e=a(ie,2),ye=a(l(_e));s(_e);var be=a(_e,2),De=a(l(be));s(be);var we=a(be,2),Se=a(l(we)),Me=a(Se,2);s(we);var et=a(we,2);s(G),s(x),V((Be,tt)=>{m(he,`${Be??""} | ${tt??""}`),m(ye,` ${t(v)["Trailer No."]??""}`),m(De,` ${(t(v).Address||"")??""}, ${(t(v).City||"")??""}
                      ${(t(v).State||"")??""}`),m(Se,` ${(t(v)["Prevented Delivery "]||t(v).Delivered||"")??""} `),m(Me,` T${(t(v).tank_number||"")??""}`)},[()=>ae(z(t(v).event_timestamp)),()=>K(t(v).event_timestamp)],ce),g("click",et,()=>$e(t(v))),b(E,x)};H(Qe,E=>{t(D)[C]&&E(Xe)})}s(R),V((E,x)=>{ke(R,1,`card ${E??""}`,"svelte-1fl9113"),m(me,x),m(Je,`Product: ${(t(v)["Prevented Delivery "]||t(v).Delivered)??""}`),m(Ke,`Vehicle: ${t(v)["Trailer No."]??""}`),m(Ze,t(D)[C]?"▲":"▼")},[()=>ve(C),()=>ae(z(t(v).event_timestamp))],ce),g("click",R,()=>de(C)),b(q,R)}),b(u,o)},L=u=>{var o=Aa();b(u,o)};H(c,u=>{t(k).length>0?u(S):u(L,!1)},d)}};H(e,c=>{t(U)?c(n):c(w,!1)},r)}};H(Xt,e=>{t(B)?e(ea):e(ta,!1)})}s(Pt),s(Ct),s(ht),s(Ge);var Ft=a(Ge,2),At=l(Ft),aa=a(l(At),2);y(aa,"src",`${h??""}/images/logo.png`),s(At),s(Ft),V(e=>{m(Ht,t(N)?"▲":"▼"),bt=ke(Pe,1,"search-fields svelte-1fl9113",null,bt,e)},[()=>({visible:t(N)})],ce),g("click",Ee,Ye),xe(Fe,()=>t(i).address,e=>te(i,t(i).address=e)),g("keydown",Fe,e=>{e.key==="Enter"&&F()}),xe(Ae,()=>t(i).trailer,e=>te(i,t(i).trailer=e)),g("keydown",Ae,e=>{e.key==="Enter"&&F()}),xe(Ne,()=>t(i).date,e=>te(i,t(i).date=e)),g("keydown",Ne,e=>{e.key==="Enter"&&F()}),xe(je,()=>t(i).fuel,e=>te(i,t(i).fuel=e)),g("keydown",je,e=>{e.key==="Enter"&&F()}),g("click",kt,F),g("click",Wt,se),g("click",xt,fe),g("click",Lt,jt(j)),g("click",Jt,jt(ze)),b(W,Z),Yt()}export{as as component,ts as universal};
