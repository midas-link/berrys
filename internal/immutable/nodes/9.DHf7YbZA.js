import{t as $,a as y}from"../chunks/Ddf-pde4.js";import"../chunks/CUbRwKUw.js";import{ae as K,ap as Q,aq as U,f as i,ag as V,as as W,c as s,ar as r,l as t,x as d,av as B,r as a}from"../chunks/COAlzTlh.js";import{s as D}from"../chunks/DMAFUHRH.js";import{i as X}from"../chunks/D_Rr-0e8.js";import{h as Z}from"../chunks/iCJorLeU.js";import{a as w,s as k,r as E}from"../chunks/C24kGzoz.js";import{e as ee}from"../chunks/C8-GFTye.js";import{b as F}from"../chunks/CZ0ZreRe.js";import{p as se}from"../chunks/CWmzcjye.js";import{i as ae}from"../chunks/1VC0eZX2.js";import{o as te}from"../chunks/PcSmvWFM.js";import{b as v}from"../chunks/GswKTICK.js";import{P as oe}from"../chunks/XVZJVHkn.js";import{g as re}from"../chunks/CmegmGLq.js";const ie=!0,Se=Object.freeze(Object.defineProperty({__proto__:null,prerender:ie},Symbol.toStringTag,{value:"Module"}));var le=$('<meta charset="UTF-8" class="svelte-euvd2h"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-euvd2h"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-euvd2h"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-euvd2h">',1),ve=$('<p class="svelte-euvd2h"> </p>'),ne=$(`<div class="body-container svelte-euvd2h"><img class="midas-link-logo svelte-euvd2h" alt="logo"> <main class="svelte-euvd2h"><div class="content svelte-euvd2h"><div class="sign-in-container svelte-euvd2h"><form class="sign-in-form svelte-euvd2h"><p class="sign-in-title svelte-euvd2h">Sign in to your account</p> <div class="form-group svelte-euvd2h"><label for="email" class="svelte-euvd2h">Your email</label> <input type="email" id="email" name="email" placeholder="email@domain.com" required class="svelte-euvd2h"></div> <div class="form-group svelte-euvd2h"><label for="password" class="svelte-euvd2h">Password</label> <input type="password" id="password" name="password" placeholder="•••••••••" required class="svelte-euvd2h"></div> <div class="form-group below-password-container svelte-euvd2h"><label class="checkbox-container svelte-euvd2h"><input type="checkbox" name="remember" class="svelte-euvd2h"> <span class="checkmark svelte-euvd2h"></span> Remember me</label> <a href=" " class="forgot-password svelte-euvd2h">Forgot Password?</a></div> <button type="submit" class="sign-in-button svelte-euvd2h">Sign In</button> <div class="no-account svelte-euvd2h">Don't have an account? <a class="sign-up-link svelte-euvd2h">Sign up</a></div></form> <!> <div id="popup" class="popup svelte-euvd2h"><div class="popup-content svelte-euvd2h"><p id="popup-message" class="svelte-euvd2h"> </p> <div id="loading-indicator" class="loading-indicator svelte-euvd2h"><p class="svelte-euvd2h">Loading...</p> <div class="spinner svelte-euvd2h"></div></div></div></div></div></div></main></div> <footer class="svelte-euvd2h"><img alt="logo" class="svelte-euvd2h"></footer>`,1);function xe(N,R){K(R,!1);let m=d(""),u=d(""),l=d(""),n=d(!1),h=d(!1);async function z(){t(l,""),t(n,!1),t(h,!1);try{const e=await fetch(`${oe}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i(m),password:i(u)})}),o=await e.json();if(e.ok){t(l,o.message||"Logged in successfully."),t(n,!1),t(h,!0);const b=o.isAdmin?`${v}/admin`:`${v}/home`;setTimeout(()=>{re(b)},2e3)}else t(l,o.error||`Login failed. Status: ${e.status}. Please try again.`),t(n,!0)}catch(e){console.error("Client-side login error:",e),t(l,"Network error or server unreachable. Please check your connection."),t(n,!0)}}te(()=>{}),ae();var P=ne();Z(e=>{var o=le();W.title="Login",B(6),y(e,o)});var c=Q(P);w(c,`background-image: url(${v??""}/images/Sign-in-page.jpg)`);var S=s(c);k(S,"src",`${v??""}/images/Midas_Link_logo.png`);var x=r(S,2),L=s(x),j=s(L),p=s(j),g=r(s(p),2),M=r(s(g),2);E(M),a(g);var f=r(g,2),T=r(s(f),2);E(T),a(f);var I=r(f,6),J=r(s(I));k(J,"href",`${v??""}/register`),a(I),a(p);var O=r(p,2);{var Y=e=>{var o=ve(),b=s(o,!0);a(o),U(()=>{w(o,`color: ${i(n)?"red":"green"};`),D(b,i(l))}),y(e,o)};X(O,e=>{i(l)&&e(Y)})}var _=r(O,2),q=s(_),A=s(q),G=s(A);a(A),B(2),a(q),a(_),a(j),a(L),a(x),a(c);var C=r(c,2),H=s(C);k(H,"src",`${v??""}/images/logo.png`),a(C),U(()=>{w(_,`display: ${i(h)?"flex":"none"};`),D(G,`✅ ${i(l)??""}`)}),F(M,()=>i(m),e=>t(m,e)),F(T,()=>i(u),e=>t(u,e)),ee("submit",p,se(z)),y(N,P),V()}export{xe as component,Se as universal};
