import{t as _,a as p,c as Qt,d as Vt}from"../chunks/B8AjNrGC.js";import"../chunks/D34AsAzw.js";import{an as Wt,as as Yt,at as Ht,ap as D,aq as ct,ao as Jt,c as t,ar as a,k as Kt,j as n,W as m,z as E,au as Xt,r as s,av as Zt,aw as ts}from"../chunks/CERrcAZ7.js";import{h as ss,s as l}from"../chunks/CEIkUs5_.js";import{i as dt}from"../chunks/BIbRKX5X.js";import{e as as,i as es}from"../chunks/uagtVMrj.js";import{s as v}from"../chunks/BHjRODUC.js";import{e as pt}from"../chunks/CV8IrTpd.js";import{i as is}from"../chunks/2z9SFfgS.js";import{p as ns}from"../chunks/BJ1TK7WU.js";import{s as rs,a as ls}from"../chunks/DXuiFF4o.js";import{b as r}from"../chunks/FIs0yajZ.js";import{g as C}from"../chunks/DpG-zW3N.js";import{o as os}from"../chunks/B_PGvOcg.js";import{P as ft}from"../chunks/XVZJVHkn.js";import{p as vs}from"../chunks/B9qKLEt8.js";const cs=!1,Is=Object.freeze(Object.defineProperty({__proto__:null,prerender:cs},Symbol.toStringTag,{value:"Module"}));var ds=Qt('<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"><\/script> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet"> <link rel="stylesheet">',1),ps=_("<p>Loading...</p>"),fs=_("<p>No recent activity</p>"),ms=_('<div class="activity-item svelte-1nftn7s"><span class="activity-time svelte-1nftn7s"> </span> <span class="activity-description svelte-1nftn7s"> </span></div>'),_s=_('<header><div class="header-container"><div class="top-header"><a class="top-header-link" href="https://berrys.com">berrys.com</a></div> <div class="header"><button class="logout-btn svelte-1nftn7s">Logout</button></div></div></header> <div class="main-container svelte-1nftn7s"><div class="dashboard-header svelte-1nftn7s"><h1 class="svelte-1nftn7s">Admin Dashboard</h1> <div class="date-time svelte-1nftn7s"> </div></div> <div class="stats-grid svelte-1nftn7s"><div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s">ðŸ‘¥</div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Users</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Trailers</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Deliveries</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Cross-Drops</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Locations</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Products</h3> <p class="svelte-1nftn7s"> </p></div></div></div> <div class="admin-actions svelte-1nftn7s"><h2 class="svelte-1nftn7s">Quick Actions</h2> <div class="action-buttons svelte-1nftn7s"><button class="action-btn svelte-1nftn7s">Manage Users</button> <button class="action-btn svelte-1nftn7s">View Reports</button> <button class="action-btn svelte-1nftn7s">System Settings</button> <button class="action-btn svelte-1nftn7s">Export Data</button></div></div> <div class="recent-activity svelte-1nftn7s"><h2 class="svelte-1nftn7s">Recent Activity</h2> <div class="activity-list svelte-1nftn7s"><!></div></div></div> <footer><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;"><span style="font-size: 1rem; font-family: Mulish;">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo"></div></footer>',1);function Us(mt,R){Wt(R,!1);const[_t,gt]=rs(),B=()=>ls(vs,"$page",_t),ht=E();let ut=ns(R,"data",8);console.log("user data is   ",ut());let g=E(!1),o=E([]),z=[];async function yt(){try{const e=await fetch(`${ft}/api/logout`,{method:"POST",credentials:"include"});e.ok||console.warn(`Logout failed, Error status: ${e.status}`)}catch(e){console.log("Error logging out",e)}finally{localStorage.removeItem("is_admin"),await C(`${r}/login?authMessage=${encodeURIComponent("You have been logged out.")}`)}}async function bt(){if(m(g,!0),!(localStorage.getItem("is_admin")==="true")){await C(`${r}/login?authMessage=${encodeURIComponent("Access Denied. Please log in as an administrator.")}`);return}try{const i=await fetch(`${ft}/api/admin/summary`,{credentials:"include"});if(!i.ok)throw new Error(`Error status: ${i.status}`);const c=await i.json();console.log("Summary data loaded:",c),m(o,c)}catch(i){console.log("Error fetching summary:",i)}finally{m(g,!1)}}os(async()=>{bt()}),Yt(()=>B(),()=>{m(ht,B().url.searchParams.get("authMessage")||"")}),Ht(),is();var O=_s();ss(e=>{var i=ds();Xt.title="Admin Panel";var c=a(D(i),14);v(c,"href",`${r??""}/css/styles.css`),p(e,i)});var h=D(O),q=t(h),G=a(t(q),2),xt=t(G);s(G),s(q),s(h);var u=a(h,2),y=t(u),F=a(t(y),2),wt=t(F,!0);s(F),s(y);var b=a(y,2),x=t(b),N=a(t(x),2),Q=a(t(N),2),$t=t(Q,!0);s(Q),s(N),s(x);var w=a(x,2),$=t(w),jt=t($);v(jt,"src",`${r??""}/images/Truck_graphic.png`),s($);var V=a($,2),W=a(t(V),2),Tt=t(W,!0);s(W),s(V),s(w);var j=a(w,2),T=t(j),kt=t(T);v(kt,"src",`${r??""}/images/Moving_truck.png`),s(T);var Y=a(T,2),H=a(t(Y),2),St=t(H,!0);s(H),s(Y),s(j);var k=a(j,2),S=t(k),At=t(S);v(At,"src",`${r??""}/images/Cross-drop graphic.png`),s(S);var J=a(S,2),K=a(t(J),2),Lt=t(K,!0);s(K),s(J),s(k);var A=a(k,2),L=t(A),Mt=t(L);v(Mt,"src",`${r??""}/images/Gas_station_graphic.png`),s(L);var X=a(L,2),Z=a(t(X),2),Pt=t(Z,!0);s(Z),s(X),s(A);var tt=a(A,2),M=t(tt),It=t(M);v(It,"src",`${r??""}/images/Cross-drop graphic.png`),s(M);var st=a(M,2),at=a(t(st),2),Ut=t(at,!0);s(at),s(st),s(tt),s(b);var P=a(b,2),et=a(t(P),2),Dt=t(et),Et=ts(()=>C(`${r}/admin/manageUsers`));Zt(6),s(et),s(P);var it=a(P,2),nt=a(t(it),2),Ct=t(nt);{var Rt=e=>{var i=ps();p(e,i)},Bt=(e,i)=>{{var c=d=>{var f=fs();p(d,f)},Ot=d=>{var f=Vt(),qt=D(f);as(qt,1,()=>z,es,(Gt,ot)=>{var I=ms(),U=t(I),Ft=t(U,!0);s(U);var vt=a(U,2),Nt=t(vt,!0);s(vt),s(I),ct(()=>{l(Ft,n(ot).time),l(Nt,n(ot).description)}),p(Gt,I)}),p(d,f)};dt(e,d=>{z.length===0?d(c):d(Ot,!1)},i)}};dt(Ct,e=>{n(g)?e(Rt):e(Bt,!1)})}s(nt),s(it),s(u);var rt=a(u,2),lt=t(rt),zt=a(t(lt),2);v(zt,"src",`${r??""}/images/logo.png`),s(lt),s(rt),ct(e=>{l(wt,e),l($t,n(o).total_users),l(Tt,n(o).total_trailers),l(St,n(o).total_deliveries),l(Lt,n(o).total_cross_drops),l(Pt,n(o).total_locations),l(Ut,n(o).total_products)},[()=>new Date().toLocaleString()],Kt),pt("click",xt,yt),pt("click",Dt,function(...e){var i;(i=n(Et))==null||i.apply(this,e)}),p(mt,O),Jt(),gt()}export{Us as component,Is as universal};
