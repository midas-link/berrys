import{t as w,a as h}from"../chunks/Ddf-pde4.js";import"../chunks/CUbRwKUw.js";import{ae as K,ap as Q,aq as U,f as r,ag as V,as as W,c as s,ar as o,l,x as c,av as B,r as a}from"../chunks/COAlzTlh.js";import{s as D}from"../chunks/DMAFUHRH.js";import{i as X}from"../chunks/D_Rr-0e8.js";import{h as Z}from"../chunks/iCJorLeU.js";import{a as b,s as y,r as E}from"../chunks/C24kGzoz.js";import{e as ee}from"../chunks/C8-GFTye.js";import{b as F}from"../chunks/CZ0ZreRe.js";import{p as se}from"../chunks/CWmzcjye.js";import{i as ae}from"../chunks/1VC0eZX2.js";import{o as le}from"../chunks/PcSmvWFM.js";import{b as n}from"../chunks/Diqcyxgn.js";import{P as te}from"../chunks/XVZJVHkn.js";import{g as oe}from"../chunks/C822oQpk.js";const re=!0,$e=Object.freeze(Object.defineProperty({__proto__:null,prerender:re},Symbol.toStringTag,{value:"Module"}));var ie=w('<meta charset="UTF-8" class="svelte-1q90lj1"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-1q90lj1"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-1q90lj1"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-1q90lj1">',1),ne=w('<p class="svelte-1q90lj1"> </p>'),ve=w(`<div class="body-container svelte-1q90lj1"><img class="midas-link-logo svelte-1q90lj1" alt="logo"> <main class="svelte-1q90lj1"><div class="content svelte-1q90lj1"><div class="sign-in-container svelte-1q90lj1"><form class="sign-in-form svelte-1q90lj1"><p class="sign-in-title svelte-1q90lj1">Sign in to your account</p> <div class="form-group svelte-1q90lj1"><label for="email" class="svelte-1q90lj1">Your email</label> <input type="email" id="email" name="email" placeholder="email@domain.com" required class="svelte-1q90lj1"></div> <div class="form-group svelte-1q90lj1"><label for="password" class="svelte-1q90lj1">Password</label> <input type="password" id="password" name="password" placeholder="•••••••••" required class="svelte-1q90lj1"></div> <div class="form-group below-password-container svelte-1q90lj1"><label class="checkbox-container svelte-1q90lj1"><input type="checkbox" name="remember" class="svelte-1q90lj1"> <span class="checkmark svelte-1q90lj1"></span> Remember me</label> <a href=" " class="forgot-password svelte-1q90lj1">Forgot Password?</a></div> <button type="submit" class="sign-in-button svelte-1q90lj1">Sign In</button> <div class="no-account svelte-1q90lj1">Don't have an account? <a class="sign-up-link svelte-1q90lj1">Sign up</a></div></form> <!> <div id="popup" class="popup svelte-1q90lj1"><div class="popup-content svelte-1q90lj1"><p id="popup-message" class="svelte-1q90lj1"> </p> <div id="loading-indicator" class="loading-indicator svelte-1q90lj1"><p class="svelte-1q90lj1">Loading...</p> <div class="spinner svelte-1q90lj1"></div></div></div></div></div></div></main></div> <footer class="svelte-1q90lj1"><img alt="logo" class="svelte-1q90lj1"></footer>`,1);function Pe(N,R){K(R,!1);let d=c(""),g=c(""),i=c(""),v=c(!1),f=c(!1);async function z(){l(i,""),l(v,!1),l(f,!1);try{const e=await fetch(`${te}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r(d),password:r(g)})}),t=await e.json();if(e.ok){l(i,t.message||"Logged in successfully."),l(v,!1),l(f,!0);const _=t.isAdmin?`${n}/admin`:`${n}/home`;setTimeout(()=>{oe(_)},2e3)}else l(i,t.error||`Login failed. Status: ${e.status}. Please try again.`),l(v,!0)}catch(e){console.error("Client-side login error:",e),l(i,"Network error or server unreachable. Please check your connection."),l(v,!0)}}le(()=>{}),ae();var k=ve();Z(e=>{var t=ie();W.title="Login",B(6),h(e,t)});var p=Q(k);b(p,`background-image: url(${n??""}/images/Sign-in-page.jpg)`);var $=s(p);y($,"src",`${n??""}/images/Midas_Link_logo.png`);var P=o($,2),S=s(P),x=s(S),m=s(x),u=o(s(m),2),L=o(s(u),2);E(L),a(u);var j=o(u,2),M=o(s(j),2);E(M),a(j);var T=o(j,6),J=o(s(T));y(J,"href",`${n??""}/register`),a(T),a(m);var I=o(m,2);{var Y=e=>{var t=ne(),_=s(t,!0);a(t),U(()=>{b(t,`color: ${r(v)?"red":"green"};`),D(_,r(i))}),h(e,t)};X(I,e=>{r(i)&&e(Y)})}var q=o(I,2),O=s(q),A=s(O),G=s(A);a(A),B(2),a(O),a(q),a(x),a(S),a(P),a(p);var C=o(p,2),H=s(C);y(H,"src",`${n??""}/images/logo.png`),a(C),U(()=>{b(q,`display: ${r(f)?"flex":"none"};`),D(G,`✅ ${r(i)??""}`)}),F(L,()=>r(d),e=>l(d,e)),F(M,()=>r(g),e=>l(g,e)),ee("submit",m,se(z)),h(N,k),V()}export{Pe as component,$e as universal};
