import{t as C,a as w,c as ia,d as jt}from"../chunks/BpHREmoh.js";import"../chunks/CvNrszm_.js";import{ad as Bt,v as M,ao as be,ap as Z,af as zt,c as l,b as me,f as t,aJ as na,r as s,aq as a,j as u,ar as ca,au as Me,aK as ve}from"../chunks/uJLZMol7.js";import{s as p}from"../chunks/B-S5xCkP.js";import{i as J}from"../chunks/C5c6pA2s.js";import{e as tt,i as at}from"../chunks/D_CKD-qP.js";import{h as oa}from"../chunks/L1Q-CsRO.js";import{s as _,c as va,b as ye,r as _e,a as da}from"../chunks/4Mh7D6bb.js";import{e as h}from"../chunks/Ber8o166.js";import{b as we,a as qt,c as ma}from"../chunks/D6vwd-E1.js";import{p as Mt}from"../chunks/CWmzcjye.js";import{i as Zt}from"../chunks/D79PCN1T.js";import{o as ua}from"../chunks/Z6QwHRtg.js";import{g as pa}from"../chunks/BGbQlVJa.js";import{b as x}from"../chunks/3j13Mb4Q.js";import{g as fa}from"../chunks/D0cbuT7U.js";import{p as ga}from"../chunks/UaJ4IH09.js";import{b as ha}from"../chunks/BcLe5uZD.js";import{l as Nt,p as de}from"../chunks/XwlKD1z6.js";import{P as xa}from"../chunks/XVZJVHkn.js";const ba=!0,ts=Object.freeze(Object.defineProperty({__proto__:null,prerender:ba},Symbol.toStringTag,{value:"Module"}));function ya(){document.querySelectorAll(".search-fields input").forEach(d=>{const N=d.id+"_"+Math.random().toString(36).substring(2,9);d.setAttribute("name",N),(d.id==="State"||d.id==="Zip"||d.id==="Date"||d.id==="ST-address"||d.id==="City"||d.id==="Fuel")&&(d.setAttribute("autocomplete","new-password"),d.setAttribute("data-lpignore","true"),d.setAttribute("data-form-type","other"))})}var _a=C('<div class="dropdown-item svelte-1o6jmi1"> </div>'),wa=C('<label> </label> <div class="custom-dropdown svelte-1o6jmi1"><div class="input-wrapper svelte-1o6jmi1"><input> <div class="dropdown-arrow svelte-1o6jmi1"></div></div> <div></div></div>',1);function It(De,d){const N=Nt(d,["children","$$slots","$$events","$$legacy"]),L=Nt(N,["prerender","id","label","placeholder","options","value","onChange"]);Bt(d,!1);let K=de(d,"id",8,""),V=de(d,"label",8,""),Se=de(d,"placeholder",8,"Select or type"),Y=de(d,"options",24,()=>[]),ue=de(d,"value",12,""),se=de(d,"onChange",8,()=>{});const pe=!0;let I=M(!1),B=M(),z=M([...Y()]);function Ne(){u(I,!t(I)),t(I)&&u(z,[...Y()])}function Ie(b){ue(b),se()(b),u(I,!1)}function Be(){const b=ue().toLowerCase();u(z,Y().filter(Q=>Q.toLowerCase().includes(b))),u(I,!0)}function P(b){t(B)&&!t(B).contains(b.target)&&u(I,!1)}function n(b){b.stopPropagation(),u(z,[...Y()]),Ne()}Zt();var le=wa();h("click",na,P);var $=be(le),ze=l($,!0);s($);var O=a($,2),W=l(O),T=l(W);_e(T);let re;var qe=a(T,2);s(W);var fe=a(W,2);let ke;return tt(fe,5,()=>t(z),at,(b,Q)=>{var X=_a(),Ce=l(X,!0);s(X),Z(()=>p(Ce,t(Q))),h("click",X,()=>Ie(t(Q))),w(b,X)}),s(fe),s(O),ha(O,b=>u(B,b),()=>t(B)),Z(b=>{_($,"for",K()),p(ze,V()),re=va(T,re,{id:K(),type:"text",placeholder:Se(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",...L},"svelte-1o6jmi1"),ke=ye(fe,1,"dropdown-content svelte-1o6jmi1",null,ke,b)},[()=>({show:t(I)})],me),we(T,ue),h("input",T,Be),h("focus",T,()=>{u(z,[...Y()]),u(I,!0)}),h("keydown",T,function(b){ma.call(this,d,b)}),h("click",qe,n),w(De,le),qt(d,"prerender",pe),zt({prerender:pe})}var Da=ia('<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-x682mc"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-x682mc"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-x682mc"><\/script> <meta charset="UTF-8" class="svelte-x682mc"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-x682mc"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-x682mc"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-x682mc">',1),Sa=C('<tr class="svelte-x682mc"><td colspan="5" style="text-align: center; padding: 20px;" class="svelte-x682mc">Loading events...</td></tr>'),ka=C('<tr class="svelte-x682mc"><td colspan="5" style="text-align: center; padding: 20px; color: red;" class="svelte-x682mc"> </td></tr>'),Ca=C('<tr><td colspan="4" class="details-cell svelte-x682mc"><div class="details-header svelte-x682mc">Details:</div> <div class="details-content svelte-x682mc"> <br class="svelte-x682mc"> <span class="label svelte-x682mc">Full Address:</span> <br class="svelte-x682mc"> <span class="label svelte-x682mc">Tank Grade:</span> <span class="label svelte-x682mc">Tank No.:</span> <br class="svelte-x682mc"> <span class="label svelte-x682mc">Fuel Prevented:</span> </div></td><td class="svelte-x682mc"><button class="more-details svelte-x682mc">See Delivery Details</button></td></tr>'),La=C('<tr><td class="svelte-x682mc"> </td><td class="svelte-x682mc"> </td><td class="svelte-x682mc"> </td><td class="svelte-x682mc"> </td></tr> <!>',1),$a=C('<tr class="svelte-x682mc"><td colspan="4" style="text-align: center; padding: 20px;" class="svelte-x682mc">No results found</td></tr>'),Ta=C('<div class="loading-message svelte-x682mc" style="text-align: center;">Loading events...</div>'),Ea=C('<div class="error-message svelte-x682mc" style="text-align: center;"> </div>'),Fa=C('<div class="card-details svelte-x682mc"><hr class="svelte-x682mc"> <div class="details-header svelte-x682mc">Details:</div> <div class="details-content svelte-x682mc"><div class="detail-row svelte-x682mc"> </div> <div class="detail-row svelte-x682mc"><span class="label svelte-x682mc">Full Address:</span> </div> <div class="detail-row svelte-x682mc"><span class="label svelte-x682mc">Tank Grade:</span> <span class="label svelte-x682mc">Tank No:</span> </div> <div class="detail-row svelte-x682mc"><span class="label svelte-x682mc">Fuel Prevented:</span> </div> <button class="more-details mobile-details-btn svelte-x682mc">See Delivery Details</button></div></div>'),Pa=C('<div><div class="card-header svelte-x682mc"><div class="card-item svelte-x682mc"><span class="card-label svelte-x682mc"> </span></div> <div class="card-item svelte-x682mc"><span class="card-value svelte-x682mc"> </span> <span class="card-value svelte-x682mc" style="margin-left: 2vw;"> </span> <span class="card-value svelte-x682mc" style="margin-left: 2vw;"> </span> <span class="card-value svelte-x682mc" style="position: relative;margin-left:auto"> </span></div></div> <!></div>'),Aa=C('<div class="no-results svelte-x682mc">No results found</div>'),ja=C('<header class="svelte-x682mc"><div class="header-container svelte-x682mc"><div class="top-header svelte-x682mc"><a class="top-header-link svelte-x682mc" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-x682mc" href=" ">Contact Us</a></div> <div class="header svelte-x682mc"><div class="header-background svelte-x682mc"></div> <div class="hamburger-menu svelte-x682mc" id="hamburger-menu"><span class="svelte-x682mc"></span> <span class="svelte-x682mc"></span> <span class="svelte-x682mc"></span></div> <a class="svelte-x682mc">Home</a> <a class="svelte-x682mc">Inventory</a> <a class="svelte-x682mc">Vehicle Logging</a> <a class="svelte-x682mc">Site Data</a> <a class="svelte-x682mc">Analytics</a> <input type="text" placeholder="Search..." class="svelte-x682mc"> <img alt="Berrys Logo" class="svelte-x682mc"></div></div></header> <div class="mobile-sidebar svelte-x682mc" id="mobile-sidebar"><a class="svelte-x682mc">Home</a> <a class="svelte-x682mc">Vehicle Logging</a> <a class="svelte-x682mc">Cross-Drop Prevention</a> <a class="svelte-x682mc">Site Data</a> <a class="svelte-x682mc">Inventory</a> <a class="svelte-x682mc">Analytics</a> <span class="footer-text svelte-x682mc">Contact Us <br class="svelte-x682mc"> Berrys Technologies Ltd 141 Lichfield Road, Birmingham ,  B6 5SP , United Kingdom <br class="svelte-x682mc"> 0121 558 4411 <br class="svelte-x682mc"> enquiries@berrys.com</span></div> <div class="overlay svelte-x682mc" id="overlay"></div> <div class="sub-header-container svelte-x682mc"><div class="sub-header svelte-x682mc"><img alt="Cross-drop graphic" class="subheader-image svelte-x682mc"> <h1 class="svelte-x682mc">Cross-drop prevention</h1> <span class="svelte-x682mc">Midas Elbow prevents unloading errors by detecting the product before its dropped into the underground storage tank. View prevented contamination instances below, either live or by custom search fields.</span></div> <div class="breadcrumb svelte-x682mc"><a class="svelte-x682mc">Home</a> / <span class="svelte-x682mc">Cross-drop prevention</span></div></div> <main class="cross-drop-page svelte-x682mc"><div class="main-container svelte-x682mc"><button class="toggle-search-btn svelte-x682mc"><label for="search-fields" class="search-label svelte-x682mc">Search <span style="font-size:1rem" class="svelte-x682mc"> </span></label></button> <div><label for="ST-address" class="svelte-x682mc">Address</label> <input type="text" id="ST-address" name="ST-address" autocomplete="off" class="svelte-x682mc"> <!> <!> <label for="Zip" class="svelte-x682mc">Zip</label> <input type="text" id="Zip" name="Zip" autocomplete="off" class="svelte-x682mc"> <label for="Date" class="svelte-x682mc">Date</label> <input type="date" id="Date" name="Date" autocomplete="off" placeholder="DD.MM.YYYY" class="svelte-x682mc"> <label for="Fuel" class="svelte-x682mc">Fuel</label> <input type="text" id="Fuel" name="Fuel" autocomplete="off" class="svelte-x682mc"> <div class="button-container svelte-x682mc"><button class="search-button svelte-x682mc">Search</button> <button class="clear-button svelte-x682mc">Clear</button></div></div> <div class="table-header svelte-x682mc"><div class="live-status svelte-x682mc"><div class="toggle-live svelte-x682mc"><label for="table-type" class="table-type svelte-x682mc">LIVE <span class="live-indicator svelte-x682mc"></span></label></div> <label for="table-type" class="table-type svelte-x682mc"><span id="current-datetime" class="current-time svelte-x682mc"></span></label></div> <div class="export-dropdown svelte-x682mc"><button class="export-button svelte-x682mc">Export As ▼</button> <div class="dropdown-content svelte-x682mc" id="exportDropdown"><a href=" " class="svelte-x682mc">CSV</a> <a href=" " class="svelte-x682mc">PDF</a></div></div></div> <div class="data-container svelte-x682mc"><table class="desktop-view svelte-x682mc"><thead class="svelte-x682mc"><tr class="svelte-x682mc"><th class="svelte-x682mc">Date</th><th class="svelte-x682mc">Time</th><th class="svelte-x682mc">Zip</th><th class="svelte-x682mc">Prevented Delivery</th></tr></thead><tbody class="svelte-x682mc"><!></tbody></table> <div class="mobile-card-view svelte-x682mc"><!></div></div></div></main> <footer class="svelte-x682mc"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-x682mc"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-x682mc">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-x682mc"></div></footer>',1);function as(De,d){Bt(d,!1);let N=[],L=M([]),K=M(!0),V=M(null),Se=M(),Y=M();const ue=pa(ga).url.pathname;let se=M(!1);function pe(e){fa(`${x}/deliveryDetail/${e.Zip}`,{state:{from:ue,address:e.Address,city:e.City,state:e.State,date:e.date,time:e.time,siteCode:e.Zip}})}async function I(){try{u(K,!0),u(V,null),console.log("Fetching prevented delivery events from API...");const e=await fetch(`${xa}/api/Cross_Drops`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();console.log("Prevented Delivery Events Data Loaded:",r),N=r,u(L,[...N]),u(Se,[...new Set(N.map(c=>c.State).filter(c=>c&&c.trim()!==""))]),u(Y,[...new Set(N.map(c=>c.City).filter(c=>c&&c.trim()!==""))]),u(P,Array(t(L).length).fill(!1)),re(!0)}catch(e){console.error("Error fetching prevented delivery events:",e),u(V,"Failed to load prevented delivery events data. Please try again.")}finally{u(K,!1)}}function B(e){return typeof e!="number"||isNaN(e)?"":new Date(e*1e3).toLocaleDateString("en-GB",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".")}function z(e){return typeof e!="number"||isNaN(e)?"":new Date(e*1e3).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})}function Ne(e){if(!e)return"";const c=new Date(e).toLocaleDateString("en-GB",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".");return console.log(c),c}function Ie(){u(se,!t(se))}function Be(){const e=document.getElementById("hamburger-menu"),r=document.getElementById("mobile-sidebar"),c=document.getElementById("overlay");e.addEventListener("click",function(){r.classList.toggle("active"),c.style.display=r.classList.contains("active")?"block":"none"}),c.addEventListener("click",function(){r.classList.remove("active"),c.style.display="none"}),r.querySelectorAll("a").forEach(i=>{i.addEventListener("click",function(){r.classList.remove("active"),c.style.display="none"})})}let P=M([]),n=M({address:"",state:"",city:"",zip:"",date:"",fuel:""});function le(e){return e%2===0?"row-even":"row-odd"}function $(){u(L,N.filter(e=>{const r=!t(n).address||e.Address&&e.Address.toLowerCase().includes(t(n).address.toLowerCase()),c=!t(n).state||e.State&&e.State.toLowerCase().includes(t(n).state.toLowerCase()),y=!t(n).city||e.City&&e.City.toLowerCase().includes(t(n).city.toLowerCase()),i=!t(n).zip||e.Zip&&e.Zip.toString().includes(t(n).zip),v=e.event_timestamp?new Date(e.event_timestamp*1e3).toISOString().split("T")[0]:"",D=!t(n).date||v&&v.includes(Ne(t(n).date)),E=!t(n).fuel||e["Prevented Delivery "]&&e["Prevented Delivery "].toLowerCase().includes(t(n).fuel.toLowerCase());return r&&c&&y&&i&&D&&E})),u(P,Array(t(L).length).fill(!1)),re()}function ze(){u(n,{address:"",state:"",city:"",zip:"",date:"",fuel:""}),u(L,[...N]),u(P,Array(t(L).length).fill(!1)),re(!0)}function O(e){if(!e)return"";const[r,c,y]=e.split("."),i=new Date(y,c-1,r);if(isNaN(i.getTime()))return e;const v=new Date;if((v-i)/(1e3*60)<=30)return"Just now";if(i.getDate()===v.getDate()&&i.getMonth()===v.getMonth()&&i.getFullYear()===v.getFullYear())return"Today";const f=new Date(v);if(f.setDate(v.getDate()-1),i.getDate()===f.getDate()&&i.getMonth()===f.getMonth()&&i.getFullYear()===f.getFullYear())return"Yesterday";const g=new Date(v);if(g.setDate(v.getDate()-2),i.getDate()===g.getDate()&&i.getMonth()===g.getMonth()&&i.getFullYear()===g.getFullYear())return"Two days ago";const F={year:"numeric",month:"long",day:"numeric"};return i.toLocaleDateString("en-US",F)}function W(e){let r=[...t(P)];r[e]=!r[e],u(P,r)}function T(){const e=document.getElementById("current-datetime");if(e){const r=new Date,c={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};e.textContent=r.toLocaleDateString("en-US",c)}}function re(e=!1){const r=document.querySelector(".toggle-live");!e&&qe()?r.style.display="none":r.style.display="block"}function qe(){return Object.values(t(n)).some(e=>e.trim()!=="")}function fe(){document.getElementById("exportDropdown").classList.toggle("show")}function ke(){const r=document.querySelector("table").cloneNode(!0);r.querySelectorAll(".more-details").forEach(m=>{m.parentNode.textContent=""});const y=r.querySelectorAll("tr");let i=[];const v=[];y[0].querySelectorAll("th").forEach(m=>{v.push(m.textContent.trim())}),i.push(v.join(","));for(let m=1;m<y.length;m++){const k=[];y[m].querySelectorAll("td").forEach(ee=>{let ie=ee.textContent.trim().replace(/"/g,'""');k.push(`"${ie}"`)}),k.length>0&&i.push(k.join(","))}const E=i.join(`
`),f=new Blob([E],{type:"text/csv;charset=utf-8;"}),g=new Date,F=g.toISOString().split("T")[0],A=g.toTimeString().split(" ")[0].replace(/:/g,"-"),S=`${document.location.pathname.includes("vehicle-logging")?"vehicle_logging":"cross-drops"}_${F}_${A}.csv`;if("showSaveFilePicker"in window){async function m(){try{const U=await(await window.showSaveFilePicker({suggestedName:S,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await U.write(f),await U.close()}catch(k){k.name!=="AbortError"&&j()}}m()}else j();function j(){const m=document.createElement("a");m.href=URL.createObjectURL(f),m.setAttribute("download",S),document.body.appendChild(m),m.click(),document.body.removeChild(m)}}async function b(){try{const{jsPDF:e}=window.jspdf;if(!e)throw new Error("jsPDF library not found");const r=new e;r.setFont("helvetica","bold"),r.setFontSize(16),r.text("Cross Drops Prevention Data",14,15);const c=new Date().toLocaleString();r.setFontSize(10),r.setFont("helvetica","normal"),r.text(`Generated: ${c}`,14,25);const y=document.querySelector("table");if(!y)throw new Error("Table not found");const i=y.cloneNode(!0);i.querySelectorAll(".more-details").forEach(F=>{const A=F.closest("td, th");A&&(A.textContent="")}),r.autoTable({html:i,startY:30,styles:{fontSize:8,cellPadding:2,overflow:"linebreak",halign:"center"},headStyles:{fillColor:[1,75,150],textColor:255,fontSize:8,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[234,243,252]},margin:{top:30}});const D=new Date,E=D.toISOString().split("T")[0],f=D.toTimeString().split(" ")[0].replace(/:/g,"-"),g=`cross_drops_${E}_${f}.pdf`;if("showSaveFilePicker"in window)try{const A=await(await window.showSaveFilePicker({suggestedName:g,types:[{description:"PDF File",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await A.write(r.output("blob")),await A.close()}catch(F){console.error("File save error:",F),Q(r,g)}else Q(r,g);return!0}catch(e){return console.error("PDF generation failed:",e),!1}}function Q(e,r){e.save(r)}function X(e){if(!e.target.matches(".export-button"))for(var r=document.getElementsByClassName("dropdown-content"),c=0;c<r.length;c++){var y=r[c];y.classList.contains("show")&&y.classList.remove("show")}}ua(async()=>{Be(),T(),ya(),await I();const e=setInterval(T,1e3);return window.addEventListener("click",X),()=>{clearInterval(e),window.removeEventListener("click",X)}}),Zt();var Ce=ja();oa(e=>{var r=Da();ca.title="Cross-drops",Me(12),w(e,r)});var Ze=be(Ce),st=l(Ze),lt=a(l(st),2),rt=l(lt);da(rt,`      background: url(${x??""}/svg/Vector_1.svg) no-repeat left center; mask-image: url(${x??""}/svg/Vector_1.svg'); -webkit-mask-image: url(${x??""}/svg/Vector_1.svg);`);var it=a(rt,4);_(it,"href",`${x??""}/home`);var nt=a(it,2);_(nt,"href",`${x??""}/inventory`);var ct=a(nt,2);_(ct,"href",`${x??""}/vehicle-logging`);var ot=a(ct,2);_(ot,"href",`${x??""}/site-data`);var vt=a(ot,2);_(vt,"href",`${x??""}/analytics`);var Vt=a(vt,4);_(Vt,"src",`${x??""}/images/Midas_Link_logo.png`),s(lt),s(st),s(Ze);var Ve=a(Ze,2),dt=l(Ve);_(dt,"href",`${x??""}/home`);var mt=a(dt,2);_(mt,"href",`${x??""}/vehicle-logging`);var ut=a(mt,2);_(ut,"href",`${x??""}/cross-drops`);var pt=a(ut,2);_(pt,"href",`${x??""}/site-data`);var ft=a(pt,2);_(ft,"href",`${x??""}/inventory`);var Yt=a(ft,2);_(Yt,"href",`${x??""}/analytics`),Me(2),s(Ve);var Ye=a(Ve,4),Oe=l(Ye),Ot=l(Oe);_(Ot,"src",`${x??""}/images/Cross-drop graphic.png`),Me(4),s(Oe);var gt=a(Oe,2),Ut=l(gt);_(Ut,"href",`${x??""}/home`),Me(2),s(gt),s(Ye);var Ue=a(Ye,2),ht=l(Ue),Le=l(ht),xt=l(Le),bt=a(l(xt)),Gt=l(bt,!0);s(bt),s(xt),s(Le);var $e=a(Le,2);let yt;var Te=a(l($e),2);_e(Te);var _t=a(Te,2);It(_t,{id:"State",label:"State",get options(){return t(Se)},get value(){return t(n).state},set value(e){ve(n,t(n).state=e)},$$events:{keydown:e=>{e.key==="Enter"&&$()}},$$legacy:!0});var wt=a(_t,2);It(wt,{id:"City",label:"City",get options(){return t(Y)},get value(){return t(n).city},set value(e){ve(n,t(n).city=e)},$$events:{keydown:e=>{e.key==="Enter"&&$()}},$$legacy:!0});var Ee=a(wt,4);_e(Ee);var Fe=a(Ee,4);_e(Fe);var Pe=a(Fe,4);_e(Pe);var Dt=a(Pe,2),St=l(Dt),Rt=a(St,2);s(Dt),s($e);var Ge=a($e,2),kt=a(l(Ge),2),Ct=l(kt),Lt=a(Ct,2),$t=l(Lt),Ht=a($t,2);s(Lt),s(kt),s(Ge);var Tt=a(Ge,2),Re=l(Tt),Et=a(l(Re)),Jt=l(Et);{var Kt=e=>{var r=Sa();w(e,r)},Wt=(e,r)=>{{var c=i=>{var v=ka(),D=l(v),E=l(D,!0);s(D),s(v),Z(()=>p(E,t(V))),w(i,v)},y=(i,v)=>{{var D=f=>{var g=jt(),F=be(g);tt(F,1,()=>t(L),at,(A,o,S)=>{var j=La(),m=be(j),k=l(m),U=l(k,!0);s(k);var ee=a(k),ie=l(ee,!0);s(ee);var te=a(ee),He=l(te,!0);s(te);var ne=a(te),Je=l(ne,!0);s(ne),s(m);var ge=a(m,2);{var Ke=G=>{var q=Ca(),ae=l(q),Ae=a(l(ae),2),R=l(Ae),H=a(R,4),he=a(H,4),ce=a(he,2),We=a(ce,4);s(Ae),s(ae);var oe=a(ae),Qe=l(oe);s(oe),s(q),Z((xe,je,Xe)=>{ye(q,1,`details-row ${xe??""}`,"svelte-x682mc"),p(R,`${je??""} | ${Xe??""} `),p(H,` ${(t(o).Address||"")??""}, ${(t(o).City||"")??""} ${(t(o).State||"")??""} | ${(t(o).Zip||"")??""} `),p(he,` ${(t(o).Delivered||"")??""} | `),p(ce,` ${(t(o).tankNo||"")??""} `),p(We,` ${(t(o)["Prevented Delivery "]||"")??""}`)},[()=>le(S),()=>O(B(t(o).event_timestamp)),()=>z(t(o).event_timestamp)||""],me),h("click",Qe,()=>pe(t(o))),h("click",q,()=>W(S)),w(G,q)};J(ge,G=>{t(P)[S]&&G(Ke)})}Z((G,q,ae)=>{ye(m,1,`main-row ${G??""} ${t(P)[S]?"hover-row":""}`,"svelte-x682mc"),p(U,q),p(ie,ae),p(He,t(o).Zip),p(Je,t(o)["Prevented Delivery "])},[()=>le(S),()=>O(B(t(o).event_timestamp)),()=>z(t(o).event_timestamp)],me),h("click",m,()=>W(S)),w(A,j)}),w(f,g)},E=f=>{var g=$a();w(f,g)};J(i,f=>{t(L).length>0?f(D):f(E,!1)},v)}};J(e,i=>{t(V)?i(c):i(y,!1)},r)}};J(Jt,e=>{t(K)?e(Kt):e(Wt,!1)})}s(Et),s(Re);var Ft=a(Re,2),Qt=l(Ft);{var Xt=e=>{var r=Ta();w(e,r)},ea=(e,r)=>{{var c=i=>{var v=Ea(),D=l(v,!0);s(v),Z(()=>p(D,t(V))),w(i,v)},y=(i,v)=>{{var D=f=>{var g=jt(),F=be(g);tt(F,1,()=>t(L),at,(A,o,S)=>{var j=Pa(),m=l(j),k=l(m),U=l(k),ee=l(U,!0);s(U),s(k);var ie=a(k,2),te=l(ie),He=l(te);s(te);var ne=a(te,2),Je=l(ne);s(ne);var ge=a(ne,2),Ke=l(ge);s(ge);var G=a(ge,2),q=l(G,!0);s(G),s(ie),s(m);var ae=a(m,2);{var Ae=R=>{var H=Fa(),he=a(l(H),4),ce=l(he),We=l(ce);s(ce);var oe=a(ce,2),Qe=a(l(oe));s(oe);var xe=a(oe,2),je=a(l(xe)),Xe=a(je,2);s(xe);var et=a(xe,2),aa=a(l(et));s(et);var sa=a(et,2);s(he),s(H),Z((la,ra)=>{p(We,`${la??""} | ${ra??""}`),p(Qe,` ${(t(o).Address||"")??""}, ${(t(o).City||"")??""} ${(t(o).State||"")??""} | ${(t(o).Zip||"")??""}`),p(je,` ${(t(o).Delivered||"")??""} | `),p(Xe,` ${(t(o).tankNo||"")??""}`),p(aa,` ${t(o)["Prevented Delivery "]??""}`)},[()=>O(B(t(o).event_timestamp)),()=>z(t(o).event_timestamp)||""],me),h("click",sa,()=>pe(t(o))),w(R,H)};J(ae,R=>{t(P)[S]&&R(Ae)})}s(j),Z((R,H)=>{ye(j,1,`card ${R??""}`,"svelte-x682mc"),p(ee,H),p(He,`Tank: T${t(o).tankNo??""}`),p(Je,`Fuel: ${t(o)["Prevented Delivery "]??""}`),p(Ke,`Zip: ${t(o).Zip??""}`),p(q,t(P)[S]?"▲":"▼")},[()=>le(S),()=>O(B(t(o).event_timestamp))],me),h("click",j,()=>W(S)),w(A,j)}),w(f,g)},E=f=>{var g=Aa();w(f,g)};J(i,f=>{t(L).length>0?f(D):f(E,!1)},v)}};J(e,i=>{t(V)?i(c):i(y,!1)},r)}};J(Qt,e=>{t(K)?e(Xt):e(ea,!1)})}s(Ft),s(Tt),s(ht),s(Ue);var Pt=a(Ue,2),At=l(Pt),ta=a(l(At),2);return _(ta,"src",`${x??""}/images/logo.png`),s(At),s(Pt),Z(e=>{p(Gt,t(se)?"▲":"▼"),yt=ye($e,1,"search-fields svelte-x682mc",null,yt,e)},[()=>({visible:t(se)})],me),h("click",Le,Ie),we(Te,()=>t(n).address,e=>ve(n,t(n).address=e)),h("keydown",Te,e=>{e.key==="Enter"&&$()}),we(Ee,()=>t(n).zip,e=>ve(n,t(n).zip=e)),h("keydown",Ee,e=>{e.key==="Enter"&&$()}),we(Fe,()=>t(n).date,e=>ve(n,t(n).date=e)),h("keydown",Fe,e=>{e.key==="Enter"&&$()}),we(Pe,()=>t(n).fuel,e=>ve(n,t(n).fuel=e)),h("keydown",Pe,e=>{e.key==="Enter"&&$()}),h("click",St,$),h("click",Rt,ze),h("click",Ct,fe),h("click",$t,Mt(ke)),h("click",Ht,Mt(b)),w(De,Ce),qt(d,"updateDateTime",T),zt({updateDateTime:T})}export{as as component,ts as universal};
