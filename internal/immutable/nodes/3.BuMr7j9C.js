import{t as _,a as p,c as Nt,d as Qt}from"../chunks/Hwd85n7X.js";import"../chunks/GgZ3Tyco.js";import{an as Vt,as as Yt,at as Ht,ap as D,aq as vt,ao as Jt,c as t,ar as a,b as Kt,f as n,l as m,x as E,au as Wt,r as s,av as Xt,aw as Zt}from"../chunks/JeacdhcA.js";import{h as ts,s as l}from"../chunks/B9PSCYPZ.js";import{i as ct}from"../chunks/DtnZQvb9.js";import{e as ss,i as as}from"../chunks/BRnCBxKA.js";import{s as v}from"../chunks/BYW0ss4q.js";import{e as dt}from"../chunks/Da4wvaNa.js";import{i as es}from"../chunks/amqHqxmT.js";import{s as is,a as ns}from"../chunks/DGWKMm1U.js";import{b as r}from"../chunks/D_C-Uq37.js";import{g as C}from"../chunks/BtJ2Zvot.js";import{o as rs}from"../chunks/BzFqszlB.js";import{P as pt}from"../chunks/XVZJVHkn.js";import{p as ls}from"../chunks/CKdVlGW0.js";const os=!1,Ls=Object.freeze(Object.defineProperty({__proto__:null,prerender:os},Symbol.toStringTag,{value:"Module"}));var vs=Nt('<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"><\/script> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet"> <link rel="stylesheet">',1),cs=_("<p>Loading...</p>"),ds=_("<p>No recent activity</p>"),ps=_('<div class="activity-item svelte-1nftn7s"><span class="activity-time svelte-1nftn7s"> </span> <span class="activity-description svelte-1nftn7s"> </span></div>'),fs=_('<header><div class="header-container"><div class="top-header"><a class="top-header-link" href="https://berrys.com">berrys.com</a></div> <div class="header"><button class="logout-btn svelte-1nftn7s">Logout</button></div></div></header> <div class="main-container svelte-1nftn7s"><div class="dashboard-header svelte-1nftn7s"><h1 class="svelte-1nftn7s">Admin Dashboard</h1> <div class="date-time svelte-1nftn7s"> </div></div> <div class="stats-grid svelte-1nftn7s"><div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s">ðŸ‘¥</div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Users</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Trailers</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Deliveries</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Cross-Drops</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Locations</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Products</h3> <p class="svelte-1nftn7s"> </p></div></div></div> <div class="admin-actions svelte-1nftn7s"><h2 class="svelte-1nftn7s">Quick Actions</h2> <div class="action-buttons svelte-1nftn7s"><button class="action-btn svelte-1nftn7s">Manage Users</button> <button class="action-btn svelte-1nftn7s">View Reports</button> <button class="action-btn svelte-1nftn7s">System Settings</button> <button class="action-btn svelte-1nftn7s">Export Data</button></div></div> <div class="recent-activity svelte-1nftn7s"><h2 class="svelte-1nftn7s">Recent Activity</h2> <div class="activity-list svelte-1nftn7s"><!></div></div></div> <footer><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;"><span style="font-size: 1rem; font-family: Mulish;">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo"></div></footer>',1);function Ms(ft,mt){Vt(mt,!1);const[_t,gt]=is(),R=()=>ns(ls,"$page",_t),ht=E();let g=E(!1),o=E([]),B=[];async function ut(){try{const e=await fetch(`${pt}/api/logout`,{method:"POST",credentials:"include"});e.ok||console.warn(`Logout failed, Error status: ${e.status}`)}catch(e){console.log("Error logging out",e)}finally{localStorage.removeItem("is_admin"),await C(`${r}/login?authMessage=${encodeURIComponent("You have been logged out.")}`)}}async function yt(){if(m(g,!0),!(localStorage.getItem("is_admin")==="true")){await C(`${r}/login?authMessage=${encodeURIComponent("Access Denied. Please log in as an administrator.")}`);return}try{const i=await fetch(`${pt}/api/admin/summary`,{credentials:"include"});if(!i.ok)throw new Error(`Error status: ${i.status}`);const c=await i.json();console.log("Summary data loaded:",c),m(o,c)}catch(i){console.log("Error fetching summary:",i)}finally{m(g,!1)}}rs(async()=>{yt()}),Yt(()=>R(),()=>{m(ht,R().url.searchParams.get("authMessage")||"")}),Ht(),es();var O=fs();ts(e=>{var i=vs();Wt.title="Admin Panel";var c=a(D(i),14);v(c,"href",`${r??""}/css/styles.css`),p(e,i)});var h=D(O),q=t(h),z=a(t(q),2),bt=t(z);s(z),s(q),s(h);var u=a(h,2),y=t(u),G=a(t(y),2),xt=t(G,!0);s(G),s(y);var b=a(y,2),x=t(b),F=a(t(x),2),N=a(t(F),2),wt=t(N,!0);s(N),s(F),s(x);var w=a(x,2),$=t(w),$t=t($);v($t,"src",`${r??""}/images/Truck_graphic.png`),s($);var Q=a($,2),V=a(t(Q),2),jt=t(V,!0);s(V),s(Q),s(w);var j=a(w,2),T=t(j),Tt=t(T);v(Tt,"src",`${r??""}/images/Moving_truck.png`),s(T);var Y=a(T,2),H=a(t(Y),2),kt=t(H,!0);s(H),s(Y),s(j);var k=a(j,2),S=t(k),St=t(S);v(St,"src",`${r??""}/images/Cross-drop graphic.png`),s(S);var J=a(S,2),K=a(t(J),2),At=t(K,!0);s(K),s(J),s(k);var A=a(k,2),L=t(A),Lt=t(L);v(Lt,"src",`${r??""}/images/Gas_station_graphic.png`),s(L);var W=a(L,2),X=a(t(W),2),Mt=t(X,!0);s(X),s(W),s(A);var Z=a(A,2),M=t(Z),Pt=t(M);v(Pt,"src",`${r??""}/images/Cross-drop graphic.png`),s(M);var tt=a(M,2),st=a(t(tt),2),It=t(st,!0);s(st),s(tt),s(Z),s(b);var P=a(b,2),at=a(t(P),2),Ut=t(at),Dt=Zt(()=>C(`${r}/admin/manageUsers`));Xt(6),s(at),s(P);var et=a(P,2),it=a(t(et),2),Et=t(it);{var Ct=e=>{var i=cs();p(e,i)},Rt=(e,i)=>{{var c=d=>{var f=ds();p(d,f)},Ot=d=>{var f=Qt(),qt=D(f);ss(qt,1,()=>B,as,(zt,lt)=>{var I=ps(),U=t(I),Gt=t(U,!0);s(U);var ot=a(U,2),Ft=t(ot,!0);s(ot),s(I),vt(()=>{l(Gt,n(lt).time),l(Ft,n(lt).description)}),p(zt,I)}),p(d,f)};ct(e,d=>{B.length===0?d(c):d(Ot,!1)},i)}};ct(Et,e=>{n(g)?e(Ct):e(Rt,!1)})}s(it),s(et),s(u);var nt=a(u,2),rt=t(nt),Bt=a(t(rt),2);v(Bt,"src",`${r??""}/images/logo.png`),s(rt),s(nt),vt(e=>{l(xt,e),l(wt,n(o).total_users),l(jt,n(o).total_trailers),l(kt,n(o).total_deliveries),l(At,n(o).total_cross_drops),l(Mt,n(o).total_locations),l(It,n(o).total_products)},[()=>new Date().toLocaleString()],Kt),dt("click",bt,ut),dt("click",Ut,function(...e){var i;(i=n(Dt))==null||i.apply(this,e)}),p(ft,O),Jt(),gt()}export{Ms as component,Ls as universal};
