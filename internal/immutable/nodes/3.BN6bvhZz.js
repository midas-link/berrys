import{t as g,a as p,c as Ft,d as Nt}from"../chunks/B844KiKP.js";import"../chunks/DKOGnCGE.js";import{ae as Qt,as as Vt,at as Yt,ap as C,aq as ct,ag as Ht,c as t,ar as a,b as Jt,f as n,l as _,x as B,au as Kt,r as s,av as Wt,aw as Xt}from"../chunks/BXsRLg6A.js";import{s as o}from"../chunks/-CDTaoNk.js";import{i as dt}from"../chunks/dTEDWTZQ.js";import{e as Zt,i as ts}from"../chunks/FxtfLCaA.js";import{h as ss}from"../chunks/BuC1pS7D.js";import{s as c}from"../chunks/8eJ-M5eg.js";import{e as pt}from"../chunks/JJDN1UTm.js";import{i as as}from"../chunks/DFYwXNvY.js";import{s as es,a as is}from"../chunks/ORKq4Oba.js";import{b as r}from"../chunks/BuKi2LIm.js";import{g as E}from"../chunks/BRtzJ_cC.js";import{o as ns}from"../chunks/B7JBmkl3.js";import{P as rs}from"../chunks/XVZJVHkn.js";import{p as ls}from"../chunks/CsXyiQbx.js";const os=!1,Ms=Object.freeze(Object.defineProperty({__proto__:null,prerender:os},Symbol.toStringTag,{value:"Module"}));var vs=Ft('<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"><\/script> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet"> <link rel="stylesheet">',1),cs=g("<p>Loading...</p>"),ds=g("<p>No recent activity</p>"),ps=g('<div class="activity-item svelte-1nftn7s"><span class="activity-time svelte-1nftn7s"> </span> <span class="activity-description svelte-1nftn7s"> </span></div>'),fs=g('<header><div class="header-container"><div class="top-header"><a class="top-header-link" href="https://berrys.com">berrys.com</a></div> <div class="header"><button class="logout-btn svelte-1nftn7s">Logout</button></div></div></header> <div class="main-container svelte-1nftn7s"><div class="dashboard-header svelte-1nftn7s"><h1 class="svelte-1nftn7s">Admin Dashboard</h1> <div class="date-time svelte-1nftn7s"> </div></div> <div class="stats-grid svelte-1nftn7s"><div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s">ðŸ‘¥</div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Users</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Trailers</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Deliveries</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Cross-Drops</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Locations</h3> <p class="svelte-1nftn7s"> </p></div></div> <div class="stat-card svelte-1nftn7s"><div class="stat-icon svelte-1nftn7s"><img alt="Trailer" style="width:90%; height:90%;"></div> <div class="stat-content svelte-1nftn7s"><h3 class="svelte-1nftn7s">Total Products</h3> <p class="svelte-1nftn7s"> </p></div></div></div> <div class="admin-actions svelte-1nftn7s"><h2 class="svelte-1nftn7s">Quick Actions</h2> <div class="action-buttons svelte-1nftn7s"><button class="action-btn svelte-1nftn7s">Manage Users</button> <button class="action-btn svelte-1nftn7s">View Reports</button> <button class="action-btn svelte-1nftn7s">System Settings</button> <button class="action-btn svelte-1nftn7s">Export Data</button></div></div> <div class="recent-activity svelte-1nftn7s"><h2 class="svelte-1nftn7s">Recent Activity</h2> <div class="activity-list svelte-1nftn7s"><!></div></div></div> <footer><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;"><span style="font-size: 1rem; font-family: Mulish;">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo"></div></footer>',1);function Ls(ft,mt){Qt(mt,!1);const[_t,gt]=es(),R=()=>is(ls,"$page",_t),ht=B();let h=B(!1),v=B([]),z=[];async function ut(){localStorage.removeItem("jwt_token"),localStorage.removeItem("is_admin"),await E(`${r}/login?authMessage=${encodeURIComponent("You have been logged out.")}`)}async function yt(){_(h,!0);const e=localStorage.getItem("jwt_token");if(!(localStorage.getItem("is_admin")==="true")||!e){await E(`${r}/login?authMessage=${encodeURIComponent("Access Denied. Please log in as an administrator.")}`);return}try{const l=await fetch(`${rs}/api/admin/summary`,{headers:{Authorization:`Bearer ${e}`}});if(!l.ok)throw new Error(`Error status: ${l.status}`);const f=await l.json();console.log("Summary data loaded:",f),_(v,f)}catch(l){console.log("Error fetching summary:",l)}finally{_(h,!1)}}ns(async()=>{yt()}),Vt(()=>R(),()=>{_(ht,R().url.searchParams.get("authMessage")||"")}),Yt(),as();var q=fs();ss(e=>{var i=vs();Kt.title="Admin Panel";var l=a(C(i),14);c(l,"href",`${r??""}/css/styles.css`),p(e,i)});var u=C(q),G=t(u),O=a(t(G),2),bt=t(O);s(O),s(G),s(u);var y=a(u,2),b=t(y),F=a(t(b),2),xt=t(F,!0);s(F),s(b);var x=a(b,2),w=t(x),N=a(t(w),2),Q=a(t(N),2),wt=t(Q,!0);s(Q),s(N),s(w);var $=a(w,2),j=t($),$t=t(j);c($t,"src",`${r??""}/images/Truck_graphic.png`),s(j);var V=a(j,2),Y=a(t(V),2),jt=t(Y,!0);s(Y),s(V),s($);var k=a($,2),T=t(k),kt=t(T);c(kt,"src",`${r??""}/images/Moving_truck.png`),s(T);var H=a(T,2),J=a(t(H),2),Tt=t(J,!0);s(J),s(H),s(k);var S=a(k,2),A=t(S),St=t(A);c(St,"src",`${r??""}/images/Cross-drop graphic.png`),s(A);var K=a(A,2),W=a(t(K),2),At=t(W,!0);s(W),s(K),s(S);var I=a(S,2),M=t(I),It=t(M);c(It,"src",`${r??""}/images/Gas_station_graphic.png`),s(M);var X=a(M,2),Z=a(t(X),2),Mt=t(Z,!0);s(Z),s(X),s(I);var tt=a(I,2),L=t(tt),Lt=t(L);c(Lt,"src",`${r??""}/images/Cross-drop graphic.png`),s(L);var st=a(L,2),at=a(t(st),2),Pt=t(at,!0);s(at),s(st),s(tt),s(x);var P=a(x,2),et=a(t(P),2),Ut=t(et),Dt=Xt(()=>E(`${r}/admin/manageUsers`));Wt(6),s(et),s(P);var it=a(P,2),nt=a(t(it),2),Ct=t(nt);{var Bt=e=>{var i=cs();p(e,i)},Et=(e,i)=>{{var l=d=>{var m=ds();p(d,m)},f=d=>{var m=Nt(),zt=C(m);Zt(zt,1,()=>z,ts,(qt,ot)=>{var U=ps(),D=t(U),Gt=t(D,!0);s(D);var vt=a(D,2),Ot=t(vt,!0);s(vt),s(U),ct(()=>{o(Gt,n(ot).time),o(Ot,n(ot).description)}),p(qt,U)}),p(d,m)};dt(e,d=>{z.length===0?d(l):d(f,!1)},i)}};dt(Ct,e=>{n(h)?e(Bt):e(Et,!1)})}s(nt),s(it),s(y);var rt=a(y,2),lt=t(rt),Rt=a(t(lt),2);c(Rt,"src",`${r??""}/images/logo.png`),s(lt),s(rt),ct(e=>{o(xt,e),o(wt,n(v).total_users),o(jt,n(v).total_trailers),o(Tt,n(v).total_deliveries),o(At,n(v).total_cross_drops),o(Mt,n(v).total_locations),o(Pt,n(v).total_products)},[()=>new Date().toLocaleString()],Jt),pt("click",bt,ut),pt("click",Ut,function(...e){var i;(i=n(Dt))==null||i.apply(this,e)}),p(ft,q),Ht(),gt()}export{Ls as component,Ms as universal};
