import"../chunks/CWj6FrbW.js";import"../chunks/B44Ua88C.js";import{aj as It,B as M,t as C,ak as ge,al as V,a as D,am as zt,aW as ra,c as n,l as ue,k as t,an as a,r as s,Y as u,aq as ia,ar as oa,as as et,aX as ve,au as jt}from"../chunks/CzOC0KzF.js";import{s as p,o as ca,h as va}from"../chunks/4Px52Ah5.js";import{i as W}from"../chunks/CrFqM1sv.js";import{e as tt,i as at}from"../chunks/CibRLjUn.js";import{s as w,c as da,b as _e,r as we,a as ga}from"../chunks/SS51CJoV.js";import{e as h}from"../chunks/D1dF0dAw.js";import{b as De}from"../chunks/DWbEOfIm.js";import{b as qt,a as ua}from"../chunks/CgitGSmD.js";import{p as Mt}from"../chunks/CWmzcjye.js";import{i as Zt}from"../chunks/DXZuKXJG.js";import{g as pa}from"../chunks/mwWZaAAN.js";import{b}from"../chunks/D72yswqP.js";import{g as fa}from"../chunks/V75GPHfv.js";import{p as ma}from"../chunks/CoBwq6WO.js";import{b as ha}from"../chunks/CDDHeTpH.js";import{l as Nt,p as de}from"../chunks/CdjmU_cv.js";import{P as ba}from"../chunks/XVZJVHkn.js";const ya=!1,es=Object.freeze(Object.defineProperty({__proto__:null,prerender:ya},Symbol.toStringTag,{value:"Module"}));function _a(){document.querySelectorAll(".search-fields input").forEach(d=>{const N=d.id+"_"+Math.random().toString(36).substring(2,9);d.setAttribute("name",N),(d.id==="State"||d.id==="Zip"||d.id==="Date"||d.id==="ST-address"||d.id==="City"||d.id==="Fuel")&&(d.setAttribute("autocomplete","new-password"),d.setAttribute("data-lpignore","true"),d.setAttribute("data-form-type","other"))})}var wa=C('<div class="dropdown-item svelte-1o6jmi1"> </div>'),Da=C('<label> </label> <div class="custom-dropdown svelte-1o6jmi1"><div class="input-wrapper svelte-1o6jmi1"><input> <div class="dropdown-arrow svelte-1o6jmi1"></div></div> <div></div></div>',1);function Bt(Se,d){const N=Nt(d,["children","$$slots","$$events","$$legacy"]),L=Nt(N,["prerender","id","label","placeholder","options","value","onChange"]);It(d,!1);let J=de(d,"id",8,""),Y=de(d,"label",8,""),ke=de(d,"placeholder",8,"Select or type"),O=de(d,"options",24,()=>[]),pe=de(d,"value",12,""),se=de(d,"onChange",8,()=>{});const fe=!0;let B=M(!1),I=M(),z=M([...O()]);function Me(){u(B,!t(B)),t(B)&&u(z,[...O()])}function Ne(y){pe(y),se()(y),u(B,!1)}function Be(){const y=pe().toLowerCase();u(z,O().filter(X=>X.toLowerCase().includes(y))),u(B,!0)}function P(y){t(I)&&!t(I).contains(y.target)&&u(B,!1)}function o(y){y.stopPropagation(),u(z,[...O()]),Me()}Zt();var le=Da();h("click",ra,P);var $=ge(le),Ie=n($,!0);s($);var q=a($,2),K=n(q),T=n(K);we(T);let ne;var ze=a(T,2);s(K);var me=a(K,2);let xe;return tt(me,5,()=>t(z),at,(y,X)=>{var Q=wa(),Ce=n(Q,!0);s(Q),V(()=>p(Ce,t(X))),h("click",Q,()=>Ne(t(X))),D(y,Q)}),s(me),s(q),ha(q,y=>u(I,y),()=>t(I)),V(y=>{w($,"for",J()),p(Ie,Y()),ne=da(T,ne,{id:J(),type:"text",placeholder:ke(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",...L},"svelte-1o6jmi1"),xe=_e(me,1,"dropdown-content svelte-1o6jmi1",null,xe,y)},[()=>({show:t(B)})],ue),De(T,pe),h("input",T,Be),h("focus",T,()=>{u(z,[...O()]),u(B,!0)}),h("keydown",T,function(y){ua.call(this,d,y)}),h("click",ze,o),D(Se,le),qt(d,"prerender",fe),zt({prerender:fe})}var Sa=ia('<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-9336gn"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-9336gn"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-9336gn"><\/script> <meta charset="UTF-8" class="svelte-9336gn"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-9336gn"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-9336gn"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-9336gn"> <link rel="stylesheet" class="svelte-9336gn">',1),ka=C('<tr class="svelte-9336gn"><td colspan="5" style="text-align: center; padding: 20px;" class="svelte-9336gn">Loading events...</td></tr>'),xa=C('<tr class="svelte-9336gn"><td colspan="5" style="text-align: center; padding: 20px; color: red;" class="svelte-9336gn"> </td></tr>'),Ca=C('<tr><td colspan="4" class="details-cell svelte-9336gn"><div class="details-header svelte-9336gn">Details:</div> <div class="details-content svelte-9336gn"> <br class="svelte-9336gn"> <span class="label svelte-9336gn">Full Address:</span> <br class="svelte-9336gn"> <span class="label svelte-9336gn">Tank Grade:</span> <span class="label svelte-9336gn">Tank No.:</span> <br class="svelte-9336gn"> <span class="label svelte-9336gn">Fuel Prevented:</span> </div></td><td class="svelte-9336gn"><button class="more-details svelte-9336gn">See Delivery Details</button></td></tr>'),La=C('<tr><td class="svelte-9336gn"> </td><td class="svelte-9336gn"> </td><td class="svelte-9336gn"> </td><td class="svelte-9336gn"> </td></tr> <!>',1),$a=C('<tr class="svelte-9336gn"><td colspan="4" style="text-align: center; padding: 20px;" class="svelte-9336gn">No results found</td></tr>'),Ta=C('<div class="loading-message svelte-9336gn" style="text-align: center;">Loading events...</div>'),Ea=C('<div class="error-message svelte-9336gn" style="text-align: center;"> </div>'),Fa=C('<div class="card-details svelte-9336gn"><hr class="svelte-9336gn"> <div class="details-header svelte-9336gn">Details:</div> <div class="details-content svelte-9336gn"><div class="detail-row svelte-9336gn"> </div> <div class="detail-row svelte-9336gn"><span class="label svelte-9336gn">Full Address:</span> </div> <div class="detail-row svelte-9336gn"><span class="label svelte-9336gn">Tank Grade:</span> <span class="label svelte-9336gn">Tank No:</span> </div> <div class="detail-row svelte-9336gn"><span class="label svelte-9336gn">Fuel Prevented:</span> </div> <button class="more-details mobile-details-btn svelte-9336gn">See Delivery Details</button></div></div>'),Pa=C('<div><div class="card-header svelte-9336gn"><div class="card-item svelte-9336gn"><span class="card-label svelte-9336gn"> </span></div> <div class="card-item svelte-9336gn"><span class="card-value svelte-9336gn"> </span> <span class="card-value svelte-9336gn" style="margin-left: 2vw;"> </span> <span class="card-value svelte-9336gn" style="margin-left: 2vw;"> </span> <span class="card-value svelte-9336gn" style="position: relative;margin-left:auto"> </span></div></div> <!></div>'),Aa=C('<div class="no-results svelte-9336gn">No results found</div>'),ja=C(`<header class="svelte-9336gn"><div class="header-container svelte-9336gn"><div class="top-header svelte-9336gn"><a class="top-header-link svelte-9336gn" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-9336gn" href=" ">Contact Us</a></div> <div class="header svelte-9336gn"><div class="header-background svelte-9336gn"></div> <div class="hamburger-menu svelte-9336gn" id="hamburger-menu"><span class="svelte-9336gn"></span> <span class="svelte-9336gn"></span> <span class="svelte-9336gn"></span></div> <a class="svelte-9336gn">Home</a> <a class="svelte-9336gn">Inventory</a> <a class="svelte-9336gn">Vehicle Logging</a> <a class="svelte-9336gn">Site Data</a> <a class="svelte-9336gn">Analytics</a> <input type="text" placeholder="Search..." class="svelte-9336gn"> <img alt="Berrys Logo" class="svelte-9336gn"></div></div></header> <div class="mobile-sidebar svelte-9336gn" id="mobile-sidebar"><a class="svelte-9336gn">Home</a> <a class="svelte-9336gn">Vehicle Logging</a> <a class="svelte-9336gn">Cross-Drop Prevention</a> <a class="svelte-9336gn">Site Data</a> <a class="svelte-9336gn">Inventory</a> <a class="svelte-9336gn">Analytics</a> <span class="footer-text svelte-9336gn">Contact Us <br class="svelte-9336gn"> Berrys Technologies Ltd 141 Lichfield Road, Birmingham , B6 5SP , United Kingdom <br class="svelte-9336gn"> 0121 558 4411 <br class="svelte-9336gn"> enquiries@berrys.com</span></div> <div class="overlay svelte-9336gn" id="overlay"></div> <div class="sub-header-container svelte-9336gn"><div class="sub-header svelte-9336gn"><img alt="Cross-drop graphic" class="subheader-image svelte-9336gn"> <h1 class="svelte-9336gn">Cross-drop prevention</h1> <span class="svelte-9336gn">Midas Elbow prevents unloading errors by detecting the product before its
      dropped into the underground storage tank. View prevented contamination
      instances below, either live or by custom search fields.</span></div> <div class="breadcrumb svelte-9336gn"><a class="svelte-9336gn">Home</a> / <span class="svelte-9336gn">Cross-drop prevention</span></div></div> <main class="cross-drop-page svelte-9336gn"><div class="main-container svelte-9336gn"><button class="toggle-search-btn svelte-9336gn"><label for="search-fields" class="search-label svelte-9336gn">Search <span style="font-size:1rem" class="svelte-9336gn"> </span></label></button> <div><label for="ST-address" class="svelte-9336gn">Address</label> <input type="text" id="ST-address" name="ST-address" autocomplete="off" class="svelte-9336gn"> <!> <!> <label for="Zip" class="svelte-9336gn">Zip</label> <input type="text" id="Zip" name="Zip" autocomplete="off" class="svelte-9336gn"> <label for="Date" class="svelte-9336gn">Date</label> <input type="date" id="Date" name="Date" autocomplete="off" placeholder="DD.MM.YYYY" class="svelte-9336gn"> <label for="Fuel" class="svelte-9336gn">Fuel</label> <input type="text" id="Fuel" name="Fuel" autocomplete="off" class="svelte-9336gn"> <div class="button-container svelte-9336gn"><button class="search-button svelte-9336gn">Search</button> <button class="clear-button svelte-9336gn">Clear</button></div></div> <div class="table-header svelte-9336gn"><div class="live-status svelte-9336gn"><div class="toggle-live svelte-9336gn"><label for="table-type" class="table-type svelte-9336gn">LIVE <span class="live-indicator svelte-9336gn"></span></label></div> <label for="table-type" class="table-type svelte-9336gn"><span id="current-datetime" class="current-time svelte-9336gn"></span></label></div> <div class="export-dropdown svelte-9336gn"><button class="export-button svelte-9336gn">Export As ▼</button> <div class="dropdown-content svelte-9336gn" id="exportDropdown"><a href=" " class="svelte-9336gn">CSV</a> <a href=" " class="svelte-9336gn">PDF</a></div></div></div> <div class="data-container svelte-9336gn"><table class="desktop-view svelte-9336gn"><thead class="svelte-9336gn"><tr class="svelte-9336gn"><th class="svelte-9336gn">Date</th><th class="svelte-9336gn">Time</th><th class="svelte-9336gn">Zip</th><th class="svelte-9336gn">Prevented Delivery</th></tr></thead><tbody class="svelte-9336gn"><!></tbody></table> <div class="mobile-card-view svelte-9336gn"><!></div></div></div></main> <footer class="svelte-9336gn"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-9336gn"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-9336gn">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-9336gn"></div></footer>`,1);function ts(Se,d){It(d,!1);let N=[],L=M([]),J=M(!0),Y=M(null),ke=M(),O=M();const pe=pa(ma).url.pathname;let se=M(!1);function fe(e){fa(`${b}/deliveryDetail/${e.Zip}`,{state:{from:pe,address:e.Address,city:e.City,state:e.State,date:q(I(e.event_timestamp)),time:z(e.event_timestamp),siteCode:e.Zip}})}async function B(){try{u(J,!0),u(Y,null),console.log("Fetching prevented delivery events from API...");const e=await fetch(`${ba}/api/Cross_Drops`,{method:"GET",credentials:"include"});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const l=await e.json();console.log("Prevented Delivery Events Data Loaded:",l),N=l,u(L,[...N]),u(ke,[...new Set(N.map(i=>i.State).filter(i=>i&&i.trim()!==""))]),u(O,[...new Set(N.map(i=>i.City).filter(i=>i&&i.trim()!==""))]),u(P,Array(t(L).length).fill(!1)),ne(!0)}catch(e){console.error("Error fetching prevented delivery events:",e),u(Y,"Failed to load prevented delivery events data. Please try again.")}finally{u(J,!1)}}function I(e){return typeof e!="number"||isNaN(e)?"":new Date(e*1e3).toLocaleDateString("en-GB",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".")}function z(e){return typeof e!="number"||isNaN(e)?"":new Date(e*1e3).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})}function Me(e){if(!e)return"";const i=new Date(e).toLocaleDateString("en-GB",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".");return console.log(i),i}function Ne(){u(se,!t(se))}function Be(){const e=document.getElementById("hamburger-menu"),l=document.getElementById("mobile-sidebar"),i=document.getElementById("overlay");e.addEventListener("click",function(){l.classList.toggle("active"),i.style.display=l.classList.contains("active")?"block":"none"}),i.addEventListener("click",function(){l.classList.remove("active"),i.style.display="none"}),l.querySelectorAll("a").forEach(r=>{r.addEventListener("click",function(){l.classList.remove("active"),i.style.display="none"})})}let P=M([]),o=M({address:"",state:"",city:"",zip:"",date:"",fuel:""});function le(e){return e%2===0?"row-even":"row-odd"}function $(){u(L,N.filter(e=>{const l=!t(o).address||e.Address&&e.Address.toLowerCase().includes(t(o).address.toLowerCase()),i=!t(o).state||e.State&&e.State.toLowerCase().includes(t(o).state.toLowerCase()),_=!t(o).city||e.City&&e.City.toLowerCase().includes(t(o).city.toLowerCase()),r=!t(o).zip||e.Zip&&e.Zip.toString().includes(t(o).zip),v=e.event_timestamp?new Date(e.event_timestamp*1e3).toISOString().split("T")[0]:"",S=!t(o).date||v&&v.includes(Me(t(o).date)),E=!t(o).fuel||e["Prevented Delivery "]&&e["Prevented Delivery "].toLowerCase().includes(t(o).fuel.toLowerCase());return l&&i&&_&&r&&S&&E})),u(P,Array(t(L).length).fill(!1)),ne()}function Ie(){u(o,{address:"",state:"",city:"",zip:"",date:"",fuel:""}),u(L,[...N]),u(P,Array(t(L).length).fill(!1)),ne(!0)}function q(e){if(!e)return"";const[l,i,_]=e.split("."),r=new Date(_,i-1,l);if(isNaN(r.getTime()))return e;const v=new Date;if((v-r)/(1e3*60)<=30)return"Just now";if(r.getDate()===v.getDate()&&r.getMonth()===v.getMonth()&&r.getFullYear()===v.getFullYear())return"Today";const f=new Date(v);if(f.setDate(v.getDate()-1),r.getDate()===f.getDate()&&r.getMonth()===f.getMonth()&&r.getFullYear()===f.getFullYear())return"Yesterday";const m=new Date(v);if(m.setDate(v.getDate()-2),r.getDate()===m.getDate()&&r.getMonth()===m.getMonth()&&r.getFullYear()===m.getFullYear())return"Two days ago";const F={year:"numeric",month:"long",day:"numeric"};return r.toLocaleDateString("en-US",F)}function K(e){let l=[...t(P)];l[e]=!l[e],u(P,l)}function T(){const e=document.getElementById("current-datetime");if(e){const l=new Date,i={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};e.textContent=l.toLocaleDateString("en-US",i)}}function ne(e=!1){const l=document.querySelector(".toggle-live");!e&&ze()?l.style.display="none":l.style.display="block"}function ze(){return Object.values(t(o)).some(e=>e.trim()!=="")}function me(){document.getElementById("exportDropdown").classList.toggle("show")}function xe(){const l=document.querySelector("table").cloneNode(!0);l.querySelectorAll(".more-details").forEach(g=>{g.parentNode.textContent=""});const _=l.querySelectorAll("tr");let r=[];const v=[];_[0].querySelectorAll("th").forEach(g=>{v.push(g.textContent.trim())}),r.push(v.join(","));for(let g=1;g<_.length;g++){const x=[];_[g].querySelectorAll("td").forEach(ee=>{let re=ee.textContent.trim().replace(/"/g,'""');x.push(`"${re}"`)}),x.length>0&&r.push(x.join(","))}const E=r.join(`
`),f=new Blob([E],{type:"text/csv;charset=utf-8;"}),m=new Date,F=m.toISOString().split("T")[0],A=m.toTimeString().split(" ")[0].replace(/:/g,"-"),k=`${document.location.pathname.includes("vehicle-logging")?"vehicle_logging":"cross-drops"}_${F}_${A}.csv`;if("showSaveFilePicker"in window){async function g(){try{const U=await(await window.showSaveFilePicker({suggestedName:k,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await U.write(f),await U.close()}catch(x){x.name!=="AbortError"&&j()}}g()}else j();function j(){const g=document.createElement("a");g.href=URL.createObjectURL(f),g.setAttribute("download",k),document.body.appendChild(g),g.click(),document.body.removeChild(g)}}async function y(){try{const{jsPDF:e}=window.jspdf;if(!e)throw new Error("jsPDF library not found");const l=new e;l.setFont("helvetica","bold"),l.setFontSize(16),l.text("Cross Drops Prevention Data",14,15);const i=new Date().toLocaleString();l.setFontSize(10),l.setFont("helvetica","normal"),l.text(`Generated: ${i}`,14,25);const _=document.querySelector("table");if(!_)throw new Error("Table not found");const r=_.cloneNode(!0);r.querySelectorAll(".more-details").forEach(F=>{const A=F.closest("td, th");A&&(A.textContent="")}),l.autoTable({html:r,startY:30,styles:{fontSize:8,cellPadding:2,overflow:"linebreak",halign:"center"},headStyles:{fillColor:[1,75,150],textColor:255,fontSize:8,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[234,243,252]},margin:{top:30}});const S=new Date,E=S.toISOString().split("T")[0],f=S.toTimeString().split(" ")[0].replace(/:/g,"-"),m=`cross_drops_${E}_${f}.pdf`;if("showSaveFilePicker"in window)try{const A=await(await window.showSaveFilePicker({suggestedName:m,types:[{description:"PDF File",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await A.write(l.output("blob")),await A.close()}catch(F){console.error("File save error:",F),X(l,m)}else X(l,m);return!0}catch(e){return console.error("PDF generation failed:",e),!1}}function X(e,l){e.save(l)}function Q(e){if(!e.target.matches(".export-button"))for(var l=document.getElementsByClassName("dropdown-content"),i=0;i<l.length;i++){var _=l[i];_.classList.contains("show")&&_.classList.remove("show")}}ca(async()=>{Be(),T(),_a(),await B();const e=setInterval(T,1e3);return window.addEventListener("click",Q),()=>{clearInterval(e),window.removeEventListener("click",Q)}}),Zt();var Ce=ja();va(e=>{var l=Sa();oa.title="Cross-drops";var i=a(ge(l),14);w(i,"href",`${b??""}/css/styles.css`),D(e,l)});var qe=ge(Ce),st=n(qe),lt=a(n(st),2),nt=n(lt);ga(nt,`      background: url(${b??""}/svg/Vector_1.svg) no-repeat left center; mask-image: url(${b??""}/svg/Vector_1.svg'); -webkit-mask-image: url(${b??""}/svg/Vector_1.svg);`);var rt=a(nt,4);w(rt,"href",`${b??""}/home`);var it=a(rt,2);w(it,"href",`${b??""}/inventory`);var ot=a(it,2);w(ot,"href",`${b??""}/vehicle-logging`);var ct=a(ot,2);w(ct,"href",`${b??""}/site-data`);var vt=a(ct,2);w(vt,"href",`${b??""}/analytics`);var Vt=a(vt,4);w(Vt,"src",`${b??""}/images/Midas_Link_logo.png`),s(lt),s(st),s(qe);var Ze=a(qe,2),dt=n(Ze);w(dt,"href",`${b??""}/home`);var gt=a(dt,2);w(gt,"href",`${b??""}/vehicle-logging`);var ut=a(gt,2);w(ut,"href",`${b??""}/cross-drops`);var pt=a(ut,2);w(pt,"href",`${b??""}/site-data`);var ft=a(pt,2);w(ft,"href",`${b??""}/inventory`);var Yt=a(ft,2);w(Yt,"href",`${b??""}/analytics`),et(2),s(Ze);var Ve=a(Ze,4),Ye=n(Ve),Ot=n(Ye);w(Ot,"src",`${b??""}/images/Cross-drop graphic.png`),et(4),s(Ye);var mt=a(Ye,2),Ut=n(mt);w(Ut,"href",`${b??""}/home`),et(2),s(mt),s(Ve);var Oe=a(Ve,2),ht=n(Oe),Le=n(ht),bt=n(Le),yt=a(n(bt)),Gt=n(yt,!0);s(yt),s(bt),s(Le);var $e=a(Le,2);let _t;var Te=a(n($e),2);we(Te);var wt=a(Te,2);Bt(wt,{id:"State",label:"State",get options(){return t(ke)},get value(){return t(o).state},set value(e){ve(o,t(o).state=e)},$$events:{keydown:e=>{e.key==="Enter"&&$()}},$$legacy:!0});var Dt=a(wt,2);Bt(Dt,{id:"City",label:"City",get options(){return t(O)},get value(){return t(o).city},set value(e){ve(o,t(o).city=e)},$$events:{keydown:e=>{e.key==="Enter"&&$()}},$$legacy:!0});var Ee=a(Dt,4);we(Ee);var Fe=a(Ee,4);we(Fe);var Pe=a(Fe,4);we(Pe);var St=a(Pe,2),kt=n(St),Rt=a(kt,2);s(St),s($e);var Ue=a($e,2),xt=a(n(Ue),2),Ct=n(xt),Lt=a(Ct,2),$t=n(Lt),Ht=a($t,2);s(Lt),s(xt),s(Ue);var Tt=a(Ue,2),Ge=n(Tt),Et=a(n(Ge)),Wt=n(Et);{var Jt=e=>{var l=ka();D(e,l)},Kt=(e,l)=>{{var i=r=>{var v=xa(),S=n(v),E=n(S,!0);s(S),s(v),V(()=>p(E,t(Y))),D(r,v)},_=(r,v)=>{{var S=f=>{var m=jt(),F=ge(m);tt(F,1,()=>t(L),at,(A,c,k)=>{var j=La(),g=ge(j),x=n(g),U=n(x,!0);s(x);var ee=a(x),re=n(ee,!0);s(ee);var te=a(ee),Re=n(te,!0);s(te);var ie=a(te),He=n(ie,!0);s(ie),s(g);var he=a(g,2);{var We=G=>{var Z=Ca(),ae=n(Z),Ae=a(n(ae),2),R=n(Ae),H=a(R,4),be=a(H,4),oe=a(be,2),Je=a(oe,4);s(Ae),s(ae);var ce=a(ae),Ke=n(ce);s(ce),s(Z),V((ye,je,Xe)=>{_e(Z,1,`details-row ${ye??""}`,"svelte-9336gn"),p(R,`${je??""} | ${Xe??""} `),p(H,` ${(t(c).Address||"")??""}, ${(t(c).City||"")??""} ${(t(c).State||"")??""} | ${(t(c).Zip||"")??""} `),p(be,` ${(t(c).Delivered||"")??""} | `),p(oe,` ${(t(c).tankNo||"")??""} `),p(Je,` ${(t(c)["Prevented Delivery "]||"")??""}`)},[()=>le(k),()=>q(I(t(c).event_timestamp)),()=>z(t(c).event_timestamp)||""],ue),h("click",Ke,()=>fe(t(c))),h("click",Z,()=>K(k)),D(G,Z)};W(he,G=>{t(P)[k]&&G(We)})}V((G,Z,ae)=>{_e(g,1,`main-row ${G??""} ${t(P)[k]?"hover-row":""}`,"svelte-9336gn"),p(U,Z),p(re,ae),p(Re,t(c).Zip),p(He,t(c)["Prevented Delivery "])},[()=>le(k),()=>q(I(t(c).event_timestamp)),()=>z(t(c).event_timestamp)],ue),h("click",g,()=>K(k)),D(A,j)}),D(f,m)},E=f=>{var m=$a();D(f,m)};W(r,f=>{t(L).length>0?f(S):f(E,!1)},v)}};W(e,r=>{t(Y)?r(i):r(_,!1)},l)}};W(Wt,e=>{t(J)?e(Jt):e(Kt,!1)})}s(Et),s(Ge);var Ft=a(Ge,2),Xt=n(Ft);{var Qt=e=>{var l=Ta();D(e,l)},ea=(e,l)=>{{var i=r=>{var v=Ea(),S=n(v,!0);s(v),V(()=>p(S,t(Y))),D(r,v)},_=(r,v)=>{{var S=f=>{var m=jt(),F=ge(m);tt(F,1,()=>t(L),at,(A,c,k)=>{var j=Pa(),g=n(j),x=n(g),U=n(x),ee=n(U,!0);s(U),s(x);var re=a(x,2),te=n(re),Re=n(te);s(te);var ie=a(te,2),He=n(ie);s(ie);var he=a(ie,2),We=n(he);s(he);var G=a(he,2),Z=n(G,!0);s(G),s(re),s(g);var ae=a(g,2);{var Ae=R=>{var H=Fa(),be=a(n(H),4),oe=n(be),Je=n(oe);s(oe);var ce=a(oe,2),Ke=a(n(ce));s(ce);var ye=a(ce,2),je=a(n(ye)),Xe=a(je,2);s(ye);var Qe=a(ye,2),aa=a(n(Qe));s(Qe);var sa=a(Qe,2);s(be),s(H),V((la,na)=>{p(Je,`${la??""} | ${na??""}`),p(Ke,` ${(t(c).Address||"")??""}, ${(t(c).City||"")??""}
                      ${(t(c).State||"")??""} | ${(t(c).Zip||"")??""}`),p(je,` ${(t(c).Delivered||"")??""} | `),p(Xe,` ${(t(c).tankNo||"")??""}`),p(aa,` ${t(c)["Prevented Delivery "]??""}`)},[()=>q(I(t(c).event_timestamp)),()=>z(t(c).event_timestamp)||""],ue),h("click",sa,()=>fe(t(c))),D(R,H)};W(ae,R=>{t(P)[k]&&R(Ae)})}s(j),V((R,H)=>{_e(j,1,`card ${R??""}`,"svelte-9336gn"),p(ee,H),p(Re,`Tank: T${t(c).tankNo??""}`),p(He,`Fuel: ${t(c)["Prevented Delivery "]??""}`),p(We,`Zip: ${t(c).Zip??""}`),p(Z,t(P)[k]?"▲":"▼")},[()=>le(k),()=>q(I(t(c).event_timestamp))],ue),h("click",j,()=>K(k)),D(A,j)}),D(f,m)},E=f=>{var m=Aa();D(f,m)};W(r,f=>{t(L).length>0?f(S):f(E,!1)},v)}};W(e,r=>{t(Y)?r(i):r(_,!1)},l)}};W(Xt,e=>{t(J)?e(Qt):e(ea,!1)})}s(Ft),s(Tt),s(ht),s(Oe);var Pt=a(Oe,2),At=n(Pt),ta=a(n(At),2);return w(ta,"src",`${b??""}/images/logo.png`),s(At),s(Pt),V(e=>{p(Gt,t(se)?"▲":"▼"),_t=_e($e,1,"search-fields svelte-9336gn",null,_t,e)},[()=>({visible:t(se)})],ue),h("click",Le,Ne),De(Te,()=>t(o).address,e=>ve(o,t(o).address=e)),h("keydown",Te,e=>{e.key==="Enter"&&$()}),De(Ee,()=>t(o).zip,e=>ve(o,t(o).zip=e)),h("keydown",Ee,e=>{e.key==="Enter"&&$()}),De(Fe,()=>t(o).date,e=>ve(o,t(o).date=e)),h("keydown",Fe,e=>{e.key==="Enter"&&$()}),De(Pe,()=>t(o).fuel,e=>ve(o,t(o).fuel=e)),h("keydown",Pe,e=>{e.key==="Enter"&&$()}),h("click",kt,$),h("click",Rt,Ie),h("click",Ct,me),h("click",$t,Mt(xe)),h("click",Ht,Mt(y)),D(Se,Ce),qt(d,"updateDateTime",T),zt({updateDateTime:T})}export{ts as component,es as universal};
