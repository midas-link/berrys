import{t as x,a as y,c as rs,d as Et}from"../chunks/BpHREmoh.js";import"../chunks/CvNrszm_.js";import{ad as Vt,v as P,ao as De,ap as I,af as Bt,aJ as os,aq as s,c as l,b as ne,f as t,r as a,j as m,ar as is,aK as te,au as Be}from"../chunks/uJLZMol7.js";import{s as f}from"../chunks/B-S5xCkP.js";import{i as G}from"../chunks/C5c6pA2s.js";import{e as st,i as at}from"../chunks/D_CKD-qP.js";import{h as ns}from"../chunks/L1Q-CsRO.js";import{s as _,c as ds,b as ke,r as Se,a as cs}from"../chunks/4Mh7D6bb.js";import{e as w}from"../chunks/Ber8o166.js";import{b as Te,a as vs,c as us}from"../chunks/D6vwd-E1.js";import{p as Nt}from"../chunks/CWmzcjye.js";import{i as Yt}from"../chunks/D79PCN1T.js";import{o as ps}from"../chunks/Z6QwHRtg.js";import{g as ms}from"../chunks/BGbQlVJa.js";import{b as g}from"../chunks/D7a70Zsq.js";import{g as fs}from"../chunks/DWgzsVes.js";import{p as ws}from"../chunks/B_Elai5D.js";import{b as gs}from"../chunks/BcLe5uZD.js";import{l as jt,p as ie}from"../chunks/XwlKD1z6.js";import{P as hs}from"../chunks/XVZJVHkn.js";const _s=!0,ta=Object.freeze(Object.defineProperty({__proto__:null,prerender:_s},Symbol.toStringTag,{value:"Module"}));function It(){const H=document.getElementById("current-datetime");if(H){const u=new Date,J={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};H.textContent=u.toLocaleDateString("en-US",J)}}function ys(){document.querySelectorAll(".search-fields input").forEach(u=>{const J=u.id+"_"+Math.random().toString(36).substring(2,9);u.setAttribute("name",J),(u.id==="State"||u.id==="Zip"||u.id==="Date"||u.id==="ST-address"||u.id==="City"||u.id==="Fuel")&&(u.setAttribute("autocomplete","new-password"),u.setAttribute("data-lpignore","true"),u.setAttribute("data-form-type","other"))})}var bs=x('<div class="dropdown-item svelte-1o6jmi1"> </div>'),qs=x('<label> </label> <div class="custom-dropdown svelte-1o6jmi1"><div class="input-wrapper svelte-1o6jmi1"><input> <div class="dropdown-arrow svelte-1o6jmi1"></div></div> <div></div></div>',1);function Mt(H,u){const J=jt(u,["children","$$slots","$$events","$$legacy"]),xe=jt(J,["prerender","id","label","placeholder","options","value","onChange"]);Vt(u,!1);let A=ie(u,"id",8,""),D=ie(u,"label",8,""),$e=ie(u,"placeholder",8,"Select or type"),M=ie(u,"options",24,()=>[]),V=ie(u,"value",12,""),B=ie(u,"onChange",8,()=>{});const b=!0;let o=P(!1),E=P(),K=P([...M()]);function se(){m(o,!t(o)),t(o)&&m(K,[...M()])}function Y(h){V(h),B()(h),m(o,!1)}function W(){const h=V().toLowerCase();m(K,M().filter(Z=>Z.toLowerCase().includes(h))),m(o,!0)}function de(h){t(E)&&!t(E).contains(h.target)&&m(o,!1)}function Ye(h){h.stopPropagation(),m(K,[...M()]),se()}Yt();var F=qs();w("click",os,de);var ae=De(F),ce=l(ae,!0);a(ae);var ve=s(ae,2),ue=l(ve),N=l(ue);Se(N);let pe;var Ue=s(N,2);a(ue);var le=s(ue,2);let re;return st(le,5,()=>t(K),at,(h,Z)=>{var U=bs(),Ce=l(U,!0);a(U),I(()=>f(Ce,t(Z))),w("click",U,()=>Y(t(Z))),y(h,U)}),a(le),a(ve),gs(ve,h=>m(E,h),()=>t(E)),I(h=>{_(ae,"for",A()),f(ce,D()),pe=ds(N,pe,{id:A(),type:"text",placeholder:$e(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",...xe},"svelte-1o6jmi1"),re=ke(le,1,"dropdown-content svelte-1o6jmi1",null,re,h)},[()=>({show:t(o)})],ne),Te(N,V),w("input",N,W),w("focus",N,()=>{m(K,[...M()]),m(o,!0)}),w("keydown",N,function(h){us.call(this,u,h)}),w("click",Ue,Ye),y(H,F),vs(u,"prerender",b),Bt({prerender:b})}var Ds=rs('<meta charset="UTF-8" class="svelte-wd5soq"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-wd5soq"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-wd5soq"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-wd5soq"> <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-wd5soq"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-wd5soq"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-wd5soq"><\/script>',1),ks=x('<tr class="svelte-wd5soq"><td colspan="5" style="text-align: center; padding: 20px;" class="svelte-wd5soq">Loading events...</td></tr>'),Ss=x('<tr class="svelte-wd5soq"><td colspan="5" style="text-align: center; padding: 20px; color: red;" class="svelte-wd5soq"> </td></tr>'),Ts=x('<tr><td colspan="4" class="details-cell svelte-wd5soq"><div class="details-header svelte-wd5soq">Details:</div> <div class="details-content svelte-wd5soq"><div class="detail-row svelte-wd5soq"> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Trailer No.:</span> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Full Address:</span> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Product:</span> <span class="label svelte-wd5soq">Tank:</span> </div></div></td><td class="svelte-wd5soq"><button class="more-details svelte-wd5soq">View Vehicle Timeline</button></td></tr>'),xs=x('<tr><td class="svelte-wd5soq"> </td><td class="svelte-wd5soq"> </td><td class="svelte-wd5soq"> </td><td class="svelte-wd5soq"> </td><td class="svelte-wd5soq"> </td></tr> <!>',1),$s=x('<tr class="svelte-wd5soq"><td colspan="5" style="text-align: center; padding: 20px;" class="svelte-wd5soq">No results found</td></tr>'),Cs=x('<div class="loading-message svelte-wd5soq" style="text-align: center;">Loading events...</div>'),Ls=x('<div class="error-message svelte-wd5soq" style="text-align: center;"> </div>'),Ps=x('<div class="card-details svelte-wd5soq"><hr class="svelte-wd5soq"> <div class="details-header svelte-wd5soq">Details:</div> <div class="details-content svelte-wd5soq"><div class="detail-row svelte-wd5soq"> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Trailer No:</span> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Full Address:</span> </div> <div class="detail-row svelte-wd5soq"><span class="label svelte-wd5soq">Product:</span> <span class="label svelte-wd5soq">Tank:</span> </div> <button class="more-details mobile-details-btn svelte-wd5soq">View Vehicle Timeline</button></div></div>'),Fs=x('<div><div class="card-header svelte-wd5soq"><div class="card-item svelte-wd5soq"><span class="card-label svelte-wd5soq"> </span></div> <div class="card-item svelte-wd5soq"><span class="card-value svelte-wd5soq" style="margin-left: 2vw;"> </span> <span class="card-value svelte-wd5soq" style="margin-left: 2vw;"> </span> <span class="card-value svelte-wd5soq" style="position: relative;margin-left:auto"> </span></div></div> <!></div>'),As=x('<div class="no-results svelte-wd5soq" style="text-align: center;">No results found</div>'),Es=x(`<header class="svelte-wd5soq"><div class="header-container svelte-wd5soq"><div class="top-header svelte-wd5soq"><a class="top-header-link svelte-wd5soq" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-wd5soq" href=" ">Contact Us</a></div> <div class="header svelte-wd5soq"><div class="header-background svelte-wd5soq"></div> <div class="hamburger-menu svelte-wd5soq" id="hamburger-menu"><span class="svelte-wd5soq"></span> <span class="svelte-wd5soq"></span> <span class="svelte-wd5soq"></span></div> <a class="svelte-wd5soq">Home</a> <a class="svelte-wd5soq">Inventory</a> <a class="svelte-wd5soq">Cross-Drop Prevention</a> <a class="svelte-wd5soq">Site Data</a> <a class="svelte-wd5soq">Analytics</a> <input type="text" placeholder="Search..." class="svelte-wd5soq"> <img alt="Berrys Logo" class="svelte-wd5soq"></div></div></header> <div class="mobile-sidebar svelte-wd5soq" id="mobile-sidebar"><a class="svelte-wd5soq">Home</a> <a class="svelte-wd5soq">Vehicle Logging</a> <a class="svelte-wd5soq">Cross-Drop Prevention</a> <a class="svelte-wd5soq">Site Data</a> <a class="svelte-wd5soq">Inventory</a> <a class="svelte-wd5soq">Analytics</a> <span class="footer-text svelte-wd5soq">Contact Us <br class="svelte-wd5soq"> Berrys Technologies Ltd 141 Lichfield Road, Birmingham , B6 5SP , United Kingdom <br class="svelte-wd5soq"> 0121 558 4411 <br class="svelte-wd5soq"> enquiries@berrys.com</span></div> <div class="overlay svelte-wd5soq" id="overlay"></div> <div class="sub-header-container svelte-wd5soq"><div class="sub-header svelte-wd5soq"><img alt="Truck Graphic" class="subheader-image svelte-wd5soq"> <h1 class="svelte-wd5soq">Vehicle Logging</h1> <span class="svelte-wd5soq">Access key information on each trailer, with real-time access to
          deliveries, focusing on trailer ID. See where trailers are located, what
          they are delivering or a full log on delivery history.</span></div> <div class="breadcrumb svelte-wd5soq"><a class="svelte-wd5soq">Home</a> / <span class="svelte-wd5soq">Vehicle Logging</span></div></div> <main class="vehicle-logging-page svelte-wd5soq"><div class="main-container svelte-wd5soq"><button class="toggle-search-btn svelte-wd5soq"><label for="search-fields" class="search-label svelte-wd5soq">Search <span style="font-size:1rem" class="svelte-wd5soq"> </span></label></button> <div><label for="ST-address" class="svelte-wd5soq">Address</label> <input type="text" id="ST-address" name="ST-address" class="svelte-wd5soq"> <!> <!> <label for="Trailer_No" class="svelte-wd5soq">Trailer No</label> <input type="text" id="Trailer_No" name="Trailer_No" class="svelte-wd5soq"> <label for="Date" class="svelte-wd5soq">Date</label> <input type="date" id="Date" name="Date" placeholder="YYYY-MM-DD" class="svelte-wd5soq"> <label for="Fuel" class="svelte-wd5soq">Fuel</label> <input type="text" id="Fuel" name="Fuel" class="svelte-wd5soq"> <div class="button-container svelte-wd5soq"><button class="search-button svelte-wd5soq">Search</button> <button class="clear-button svelte-wd5soq">Clear</button></div></div> <div class="table-header svelte-wd5soq"><div class="live-status svelte-wd5soq"><div class="toggle-live svelte-wd5soq"><label for="table-type" class="table-type svelte-wd5soq">LIVE <span class="live-indicator svelte-wd5soq"></span></label></div> <label for="table-type" class="table-type svelte-wd5soq"><span id="current-datetime" class="current-time svelte-wd5soq"></span></label></div> <div class="export-dropdown svelte-wd5soq"><button class="export-button svelte-wd5soq">Export As ▼</button> <div class="dropdown-content svelte-wd5soq" id="exportDropdown"><a href=" " class="svelte-wd5soq">CSV</a> <a href=" " class="svelte-wd5soq">PDF</a></div></div></div> <div class="data-container svelte-wd5soq"><table class="desktop-view svelte-wd5soq"><thead class="svelte-wd5soq"><tr class="svelte-wd5soq"><th class="svelte-wd5soq">Date</th><th class="svelte-wd5soq">Time</th><th class="svelte-wd5soq">City</th><th class="svelte-wd5soq">Vehicle ID</th><th class="svelte-wd5soq">Prevented Delivery</th></tr></thead><tbody class="svelte-wd5soq"><!></tbody></table> <div class="mobile-card-view svelte-wd5soq"><!></div></div></div></main> <footer class="svelte-wd5soq"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-wd5soq"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-wd5soq">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-wd5soq"></div></footer>`,1);function sa(H,u){Vt(u,!1);const J=ms(ws).url.pathname;function xe(e){fs(`${g}/vehicle/${e["Trailer No."]}`,{state:{from:J,trailer:e["Trailer No."]}})}let A=[],D=P([]),$e=P([]),M=P([]),V=P(!0),B=P(null),b=P([]),o=P({address:"",state:"",city:"",trailer:"",date:"",fuel:""}),E=P(!1);async function K(){try{m(V,!0),m(B,null),console.log("Fetching prevented delivery events from API...");const e=await fetch(`${hs}/api/Vehicle_Logging`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();console.log("Prevented Delivery Events Data Loaded:",r),A=r,m(D,[...A]),m(M,[...new Set(A.map(d=>d.State).filter(d=>d&&d.trim()!==""))]),m($e,[...new Set(A.map(d=>d.City).filter(d=>d&&d.trim()!==""))]),m(b,Array(t(D).length).fill(!1)),re(!0)}catch(e){console.error("Error fetching prevented delivery events:",e),m(B,"Failed to load prevented delivery events data. Please try again.")}finally{m(V,!1)}}function se(e){if(!e)return"";const[r,d,k]=e.split("."),n=new Date(k,d-1,r);if(isNaN(n.getTime()))return e;const v=new Date;if((v-n)/(1e3*60)<=30)return"Just now";if(n.getDate()===v.getDate()&&n.getMonth()===v.getMonth()&&n.getFullYear()===v.getFullYear())return"Today";const p=new Date(v);if(p.setDate(v.getDate()-1),n.getDate()===p.getDate()&&n.getMonth()===p.getMonth()&&n.getFullYear()===p.getFullYear())return"Yesterday";const i=new Date(v);if(i.setDate(v.getDate()-2),n.getDate()===i.getDate()&&n.getMonth()===i.getMonth()&&n.getFullYear()===i.getFullYear())return"Two days ago";const S={year:"numeric",month:"long",day:"numeric"};return n.toLocaleDateString("en-US",S)}function Y(e){return typeof e!="number"||isNaN(e)?"":new Date(e*1e3).toLocaleDateString("en-GB",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".")}function W(e){return typeof e!="number"||isNaN(e)?"":new Date(e*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}function de(e){return e%2===0?"row-even":"row-odd"}function Ye(){m(E,!t(E))}function F(){m(D,A.filter(e=>{const r=!t(o).address||e.Address&&e.Address.toLowerCase().includes(t(o).address.toLowerCase()),d=!t(o).state||e.State&&e.State.toLowerCase().includes(t(o).state.toLowerCase()),k=!t(o).city||e.City&&e.City.toLowerCase().includes(t(o).city.toLowerCase()),n=!t(o).trailer||e["Trailer No."]&&e["Trailer No."].toLowerCase().includes(t(o).trailer.toLowerCase()),v=e.event_timestamp?new Date(e.event_timestamp*1e3).toISOString().split("T")[0]:"",q=!t(o).date||v&&v.includes(t(o).date),$=!t(o).fuel||e["Prevented Delivery "]&&e["Prevented Delivery "].toLowerCase().includes(t(o).fuel.toLowerCase());return r&&d&&k&&n&&q&&$})),m(b,Array(t(D).length).fill(!1)),re()}function ae(){console.log("Clearing search parameters."),m(o,{address:"",state:"",city:"",trailer:"",date:"",fuel:""}),m(D,[...A]),m(b,Array(t(D).length).fill(!1)),re(!0)}function ce(e){te(b,t(b)[e]=!t(b)[e]),m(b,t(b))}function ve(){document.getElementById("exportDropdown").classList.toggle("show")}function ue(){const e=document.querySelectorAll(".search-fields input");return Array.from(e).some(r=>r.value.trim()!=="")}function N(){let e=[];const r=["Date","Time","City","Vehicle ID","Prevented Delivery","Address","State","Tank No."];e.push(r.join(",")),t(D).forEach(i=>{const S=Y(i.event_timestamp),z=W(i.event_timestamp),c=[`"${S}"`,`"${z}"`,`"${i.City||""}"`,`"${i["Trailer No."]||""}"`,`"${i["Prevented Delivery "]||""}"`,`"${i.Address||""}"`,`"${i.State||""}"`,`"T${i.tank_number||""}"`];e.push(c.join(","))});const d=e.join(`
`),k=new Blob([d],{type:"text/csv;charset=utf-8;"}),n=new Date,v=n.toISOString().split("T")[0],q=n.toTimeString().split(" ")[0].replace(/:/g,"-"),p=`vehicle_logging_${v}_${q}.csv`;if("showSaveFilePicker"in window){async function i(){try{const z=await(await window.showSaveFilePicker({suggestedName:p,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await z.write(k),await z.close()}catch(S){S.name!=="AbortError"&&pe(k,p)}}i()}else pe(k,p)}function pe(e,r){const d=document.createElement("a");d.href=URL.createObjectURL(e),d.setAttribute("download",r),document.body.appendChild(d),d.click(),document.body.removeChild(d)}async function Ue(){try{const{jsPDF:e}=window.jspdf;if(!e)throw new Error("jsPDF library not found");const r=new e;r.setFont("helvetica","bold"),r.setFontSize(16),r.text("Vehicle Logging Data",14,15);const d=new Date().toLocaleString();r.setFontSize(10),r.setFont("helvetica","normal"),r.text(`Generated: ${d}`,14,25);const k=["Date","Time","City","Vehicle ID","Prevented Delivery","Address","State","Tank No."],n=t(D).map(i=>[Y(i.event_timestamp),W(i.event_timestamp),i.City||"",i["Trailer No."]||"",i["Prevented Delivery "]||"",i.Address||"",i.State||"",`T${i.tank_number||""}`]);r.autoTable({head:[k],body:n,startY:30,styles:{fontSize:8,cellPadding:2,overflow:"linebreak",halign:"center"},headStyles:{fillColor:[1,75,150],textColor:255,fontSize:8,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[234,243,252]},margin:{top:30}});const v=new Date,q=v.toISOString().split("T")[0],$=v.toTimeString().split(" ")[0].replace(/:/g,"-"),p=`vehicle_logging_${q}_${$}.pdf`;if("showSaveFilePicker"in window)try{const S=await(await window.showSaveFilePicker({suggestedName:p,types:[{description:"PDF File",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await S.write(r.output("blob")),await S.close()}catch(i){console.error("File save error:",i),le(r,p)}else le(r,p);return!0}catch(e){return console.error("PDF generation failed:",e),!1}}function le(e,r){e.save(r)}function re(e=!1){const r=document.querySelector(".toggle-live");r&&(!e&&ue()?r.style.display="none":r.style.display="block")}function h(){const e=document.getElementById("hamburger-menu"),r=document.getElementById("mobile-sidebar"),d=document.getElementById("overlay");e&&r&&d&&(e.addEventListener("click",function(){r.classList.toggle("active"),d.style.display=r.classList.contains("active")?"block":"none"}),d.addEventListener("click",function(){r.classList.remove("active"),d.style.display="none"}),r.querySelectorAll("a").forEach(n=>{n.addEventListener("click",function(){r.classList.remove("active"),d.style.display="none"})}))}ps(async()=>{h(),It(),ys(),await K();const e=setInterval(It,1e3);return()=>{clearInterval(e)}}),Yt();var Z=Es();ns(e=>{var r=Ds();is.title="Vehicle Logging",Be(12),y(e,r)});var U=De(Z),Ce=l(U),lt=s(l(Ce),2),rt=l(lt);cs(rt,`background: url(${g??""}/svg/Vector_1.svg) no-repeat left center; mask-image: url(${g??""}/svg/Vector_1.svg'); -webkit-mask-image: url(${g??""}/svg/Vector_1.svg);`);var ot=s(rt,4);_(ot,"href",`${g??""}/home`);var it=s(ot,2);_(it,"href",`${g??""}/inventory`);var nt=s(it,2);_(nt,"href",`${g??""}/cross-drops`);var dt=s(nt,2);_(dt,"href",`${g??""}/site-data`);var ct=s(dt,2);_(ct,"href",`${g??""}/analytics`);var Ut=s(ct,4);_(Ut,"src",`${g??""}/images/Midas_Link_logo.png`),a(lt),a(Ce),a(U);var ze=s(U,2),vt=l(ze);_(vt,"href",`${g??""}/home`);var ut=s(vt,2);_(ut,"href",`${g??""}/vehicle-logging`);var pt=s(ut,2);_(pt,"href",`${g??""}/cross-drops`);var mt=s(pt,2);_(mt,"href",`${g??""}/site-data`);var ft=s(mt,2);_(ft,"href",`${g??""}/inventory`);var zt=s(ft,2);_(zt,"href",`${g??""}/analytics`),Be(2),a(ze);var Oe=s(ze,4),Re=l(Oe),Ot=l(Re);_(Ot,"src",`${g??""}/images/Truck_graphic.png`),Be(4),a(Re);var wt=s(Re,2),Rt=l(wt);_(Rt,"href",`${g??""}/home`),Be(2),a(wt),a(Oe);var Ge=s(Oe,2),gt=l(Ge),Le=l(gt),ht=l(Le),_t=s(l(ht)),Gt=l(_t,!0);a(_t),a(ht),a(Le);var Pe=s(Le,2);let yt;var Fe=s(l(Pe),2);Se(Fe);var bt=s(Fe,2);Mt(bt,{id:"State",label:"State",get options(){return t(M)},get value(){return t(o).state},set value(e){te(o,t(o).state=e)},$$events:{keydown:e=>{e.key==="Enter"&&F()}},$$legacy:!0});var qt=s(bt,2);Mt(qt,{id:"City",label:"City",get options(){return t($e)},get value(){return t(o).city},set value(e){te(o,t(o).city=e)},$$events:{keydown:e=>{e.key==="Enter"&&F()}},$$legacy:!0});var Ae=s(qt,4);Se(Ae);var Ee=s(Ae,4);Se(Ee);var Ne=s(Ee,4);Se(Ne);var Dt=s(Ne,2),kt=l(Dt),Ht=s(kt,2);a(Dt),a(Pe);var He=s(Pe,2),St=s(l(He),2),Tt=l(St),xt=s(Tt,2),$t=l(xt),Jt=s($t,2);a(xt),a(St),a(He);var Ct=s(He,2),Je=l(Ct),Lt=s(l(Je)),Kt=l(Lt);{var Wt=e=>{var r=ks();y(e,r)},Zt=(e,r)=>{{var d=n=>{var v=Ss(),q=l(v),$=l(q,!0);a(q),a(v),I(()=>f($,t(B))),y(n,v)},k=(n,v)=>{{var q=p=>{var i=Et(),S=De(i);st(S,1,()=>t(D),at,(z,c,C)=>{var O=xs(),j=De(O),Q=l(j),je=l(Q,!0);a(Q);var me=s(Q),Ie=l(me,!0);a(me);var X=s(me),Ke=l(X,!0);a(X);var ee=s(X),We=l(ee,!0);a(ee);var fe=s(ee),Ze=l(fe,!0);a(fe),a(j);var Qe=s(j,2);{var Xe=L=>{var T=Ts(),R=l(T),oe=s(l(R),2),we=l(oe),ge=l(we);a(we);var he=s(we,2),_e=s(l(he));a(he);var ye=s(he,2),be=s(l(ye));a(ye);var qe=s(ye,2),Me=s(l(qe)),et=s(Me,2);a(qe),a(oe),a(R);var Ve=s(R),tt=l(Ve);a(Ve),a(T),I((ss,as,ls)=>{ke(T,1,`details-row ${ss??""}`,"svelte-wd5soq"),f(ge,`${as??""} | ${ls??""}`),f(_e,` ${t(c)["Trailer No."]??""}`),f(be,` ${(t(c).Address||"")??""}, ${t(c).City??""} ${t(c).State??""}`),f(Me,` ${(t(c)["Prevented Delivery "]||t(c).Delivered||"")??""} | `),f(et,` T${(t(c).tank_number||"")??""}`)},[()=>de(C),()=>se(Y(t(c).event_timestamp)),()=>W(t(c).event_timestamp)],ne),w("click",tt,()=>xe(t(c))),w("click",T,()=>ce(C)),y(L,T)};G(Qe,L=>{t(b)[C]&&L(Xe)})}I((L,T,R)=>{ke(j,1,`main-row ${L??""} ${t(b)[C]?"hover-row":""}`,"svelte-wd5soq"),f(je,T),f(Ie,R),f(Ke,t(c).City),f(We,t(c)["Trailer No."]),f(Ze,t(c)["Prevented Delivery "]||t(c).Delivered)},[()=>de(C),()=>se(Y(t(c).event_timestamp)),()=>W(t(c).event_timestamp)],ne),w("click",j,()=>ce(C)),y(z,O)}),y(p,i)},$=p=>{var i=$s();y(p,i)};G(n,p=>{t(D).length>0?p(q):p($,!1)},v)}};G(e,n=>{t(B)?n(d):n(k,!1)},r)}};G(Kt,e=>{t(V)?e(Wt):e(Zt,!1)})}a(Lt),a(Je);var Pt=s(Je,2),Qt=l(Pt);{var Xt=e=>{var r=Cs();y(e,r)},es=(e,r)=>{{var d=n=>{var v=Ls(),q=l(v,!0);a(v),I(()=>f(q,t(B))),y(n,v)},k=(n,v)=>{{var q=p=>{var i=Et(),S=De(i);st(S,1,()=>t(D),at,(z,c,C)=>{var O=Fs(),j=l(O),Q=l(j),je=l(Q),me=l(je,!0);a(je),a(Q);var Ie=s(Q,2),X=l(Ie),Ke=l(X);a(X);var ee=s(X,2),We=l(ee);a(ee);var fe=s(ee,2),Ze=l(fe,!0);a(fe),a(Ie),a(j);var Qe=s(j,2);{var Xe=L=>{var T=Ps(),R=s(l(T),4),oe=l(R),we=l(oe);a(oe);var ge=s(oe,2),he=s(l(ge));a(ge);var _e=s(ge,2),ye=s(l(_e));a(_e);var be=s(_e,2),qe=s(l(be)),Me=s(qe,2);a(be);var et=s(be,2);a(R),a(T),I((Ve,tt)=>{f(we,`${Ve??""} | ${tt??""}`),f(he,` ${t(c)["Trailer No."]??""}`),f(ye,` ${(t(c).Address||"")??""}, ${(t(c).City||"")??""} ${(t(c).State||"")??""}`),f(qe,` ${(t(c)["Prevented Delivery "]||t(c).Delivered||"")??""} `),f(Me,` T${(t(c).tank_number||"")??""}`)},[()=>se(Y(t(c).event_timestamp)),()=>W(t(c).event_timestamp)],ne),w("click",et,()=>xe(t(c))),y(L,T)};G(Qe,L=>{t(b)[C]&&L(Xe)})}a(O),I((L,T)=>{ke(O,1,`card ${L??""}`,"svelte-wd5soq"),f(me,T),f(Ke,`Product: ${(t(c)["Prevented Delivery "]||t(c).Delivered)??""}`),f(We,`Vehicle: ${t(c)["Trailer No."]??""}`),f(Ze,t(b)[C]?"▲":"▼")},[()=>de(C),()=>se(Y(t(c).event_timestamp))],ne),w("click",O,()=>ce(C)),y(z,O)}),y(p,i)},$=p=>{var i=As();y(p,i)};G(n,p=>{t(D).length>0?p(q):p($,!1)},v)}};G(e,n=>{t(B)?n(d):n(k,!1)},r)}};G(Qt,e=>{t(V)?e(Xt):e(es,!1)})}a(Pt),a(Ct),a(gt),a(Ge);var Ft=s(Ge,2),At=l(Ft),ts=s(l(At),2);_(ts,"src",`${g??""}/images/logo.png`),a(At),a(Ft),I(e=>{f(Gt,t(E)?"▲":"▼"),yt=ke(Pe,1,"search-fields svelte-wd5soq",null,yt,e)},[()=>({visible:t(E)})],ne),w("click",Le,Ye),Te(Fe,()=>t(o).address,e=>te(o,t(o).address=e)),w("keydown",Fe,e=>{e.key==="Enter"&&F()}),Te(Ae,()=>t(o).trailer,e=>te(o,t(o).trailer=e)),w("keydown",Ae,e=>{e.key==="Enter"&&F()}),Te(Ee,()=>t(o).date,e=>te(o,t(o).date=e)),w("keydown",Ee,e=>{e.key==="Enter"&&F()}),Te(Ne,()=>t(o).fuel,e=>te(o,t(o).fuel=e)),w("keydown",Ne,e=>{e.key==="Enter"&&F()}),w("click",kt,F),w("click",Ht,ae),w("click",Tt,ve),w("click",$t,Nt(N)),w("click",Jt,Nt(Ue)),y(H,Z),Bt()}export{sa as component,ta as universal};
